[INFO] 2025-12-24 00:26:27,568 django.utils.autoreload 6204 6640 Watching for file changes with StatReloader
[INFO] 2025-12-24 00:28:09,354 django.utils.autoreload 11820 1432 Watching for file changes with StatReloader
[INFO] 2025-12-24 00:28:13,764 django.server 11820 17364 "OPTIONS /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 0
[INFO] 2025-12-24 00:28:13,764 django.server 11820 16264 "OPTIONS /api/documents/list/ HTTP/1.1" 200 0
[DEBUG] 2025-12-24 00:28:13,786 api.service_clients 11820 17364 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 00:28:13,800 django.server 11820 16264 "GET /api/documents/list/ HTTP/1.1" 200 34
[INFO] 2025-12-24 00:28:15,891 django.server 11820 17364 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1129
[ERROR] 2025-12-24 00:28:34,399 django.request 11820 17364 Internal Server Error: /api/summary/ocr_and_summarize/
[ERROR] 2025-12-24 00:28:34,400 django.server 11820 17364 "POST /api/summary/ocr_and_summarize/ HTTP/1.1" 500 83
[INFO] 2025-12-24 00:31:42,301 django.utils.autoreload 20468 15680 Watching for file changes with StatReloader
[DEBUG] 2025-12-24 00:31:46,564 api.service_clients 20468 3728 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 00:31:46,569 django.server 20468 18796 "GET /api/documents/list/ HTTP/1.1" 200 34
[INFO] 2025-12-24 00:31:48,649 django.server 20468 3728 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1129
[ERROR] 2025-12-24 00:37:50,587 api.views 20468 3728 [Gateway] Unexpected error: HTTPConnectionPool(host='localhost', port=8005): Read timed out. (read timeout=300)
Traceback (most recent call last):
  File "E:\QuickQuiz\.venv\Lib\site-packages\urllib3\connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
               ^^^^^^^^^^^^^^^^^^
  File "E:\QuickQuiz\.venv\Lib\site-packages\urllib3\connection.py", line 571, in getresponse
    httplib_response = super().getresponse()
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Thor\AppData\Local\Programs\Python\Python311\Lib\http\client.py", line 1390, in getresponse
    response.begin()
  File "C:\Users\Thor\AppData\Local\Programs\Python\Python311\Lib\http\client.py", line 325, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Thor\AppData\Local\Programs\Python\Python311\Lib\http\client.py", line 286, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Thor\AppData\Local\Programs\Python\Python311\Lib\socket.py", line 706, in readinto
    return self._sock.recv_into(b)
           ^^^^^^^^^^^^^^^^^^^^^^^
TimeoutError: timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\QuickQuiz\.venv\Lib\site-packages\requests\adapters.py", line 644, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "E:\QuickQuiz\.venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "E:\QuickQuiz\.venv\Lib\site-packages\urllib3\util\retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\QuickQuiz\.venv\Lib\site-packages\urllib3\util\util.py", line 39, in reraise
    raise value
  File "E:\QuickQuiz\.venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "E:\QuickQuiz\.venv\Lib\site-packages\urllib3\connectionpool.py", line 536, in _make_request
    self._raise_timeout(err=e, url=url, timeout_value=read_timeout)
  File "E:\QuickQuiz\.venv\Lib\site-packages\urllib3\connectionpool.py", line 367, in _raise_timeout
    raise ReadTimeoutError(
urllib3.exceptions.ReadTimeoutError: HTTPConnectionPool(host='localhost', port=8005): Read timed out. (read timeout=300)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\QuickQuiz\services\gateway_service\api\views.py", line 679, in ocr_and_summarize
    resp = requests.post(summary_service_url, files=files, timeout=300)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\QuickQuiz\.venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\QuickQuiz\.venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\QuickQuiz\.venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\QuickQuiz\.venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\QuickQuiz\.venv\Lib\site-packages\requests\adapters.py", line 690, in send
    raise ReadTimeout(e, request=request)
requests.exceptions.ReadTimeout: HTTPConnectionPool(host='localhost', port=8005): Read timed out. (read timeout=300)
[ERROR] 2025-12-24 00:37:50,848 django.request 20468 3728 Internal Server Error: /api/summary/ocr_and_summarize/
[ERROR] 2025-12-24 00:37:50,849 django.server 20468 3728 "POST /api/summary/ocr_and_summarize/ HTTP/1.1" 500 96
[INFO] 2025-12-24 00:38:04,174 django.server 20468 3728 "OPTIONS /api/summary/summarize_text/ HTTP/1.1" 200 0
[INFO] 2025-12-24 00:38:04,181 api.service_clients 20468 3728 [summary_service] Summarizing text: 371 characters
[DEBUG] 2025-12-24 00:38:04,183 api.service_clients 20468 3728 [summary_service] POST http://localhost:8005/summarize_text
[WARNING] 2025-12-24 00:38:12,618 api.service_clients 20468 3728 [summary_service] Slow request: 8.43s
[INFO] 2025-12-24 00:38:12,620 django.server 20468 3728 "POST /api/summary/summarize_text/ HTTP/1.1" 200 393
[INFO] 2025-12-24 00:38:21,474 django.server 20468 3728 "OPTIONS /api/documents/save/ HTTP/1.1" 200 0
[INFO] 2025-12-24 00:38:21,477 api.views 20468 3728 Save document request:
[INFO] 2025-12-24 00:38:21,478 api.views 20468 3728 Document ID: doc_1766511492624_zaqathi6v
[INFO] 2025-12-24 00:38:21,479 api.views 20468 3728 File name: test_summary.txt
[INFO] 2025-12-24 00:38:21,480 api.views 20468 3728 Extracted text length: 371
[INFO] 2025-12-24 00:38:21,480 api.views 20468 3728 Summary length: 153
[INFO] 2025-12-24 00:38:21,481 api.views 20468 3728 Inserting document to gateway DB: doc_1766511492624_zaqathi6v
[INFO] 2025-12-24 00:38:21,497 api.views 20468 3728 Document saved to gateway DB successfully: doc_1766511492624_zaqathi6v
[INFO] 2025-12-24 00:38:21,497 api.views 20468 3728 Syncing document to RAG service DB...
[INFO] 2025-12-24 00:38:21,499 api.rag_sync_helper 20468 3728 Syncing document to RAG DB: doc_1766511492624_zaqathi6v
[INFO] 2025-12-24 00:38:21,501 api.rag_sync_helper 20468 3728 RAG chunks table ready: E:\QuickQuiz\services\rag_chatbot_service\rag_chatbot.db
[INFO] 2025-12-24 00:38:21,502 api.rag_sync_helper 20468 3728 Split into 1 chunks
[INFO] 2025-12-24 00:38:21,508 api.rag_sync_helper 20468 3728 RAG DB insert: 1 chunks
[INFO] 2025-12-24 00:38:21,508 api.views 20468 3728 Document synced to RAG service DB
[INFO] 2025-12-24 00:38:21,509 api.views 20468 3728 Requesting RAG rebuild-index...
[DEBUG] 2025-12-24 00:38:21,509 api.service_clients 20468 3728 [rag_chatbot_service] POST http://localhost:8006/admin/rebuild-index
[INFO] 2025-12-24 00:38:23,695 api.views 20468 3728 RAG rebuild-index successful
[INFO] 2025-12-24 00:38:23,697 django.server 20468 3728 "POST /api/documents/save/ HTTP/1.1" 200 153
[INFO] 2025-12-24 00:39:28,073 django.utils.autoreload 19896 20068 Watching for file changes with StatReloader
[DEBUG] 2025-12-24 00:39:32,105 api.service_clients 19896 17172 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 00:39:32,114 django.server 19896 4560 "GET /api/documents/list/ HTTP/1.1" 200 1319
[INFO] 2025-12-24 00:39:34,205 django.server 19896 17172 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1129
[INFO] 2025-12-24 00:39:49,748 api.service_clients 19896 17172 [summary_service] Summarizing text: 371 characters
[DEBUG] 2025-12-24 00:39:49,749 api.service_clients 19896 17172 [summary_service] POST http://localhost:8005/summarize_text
[WARNING] 2025-12-24 00:39:57,629 api.service_clients 19896 17172 [summary_service] Slow request: 7.88s
[INFO] 2025-12-24 00:39:57,630 django.server 19896 17172 "POST /api/summary/summarize_text/ HTTP/1.1" 200 393
[INFO] 2025-12-24 00:40:00,918 api.views 19896 17172 Save document request:
[INFO] 2025-12-24 00:40:00,918 api.views 19896 17172 Document ID: doc_1766511597634_52ibzekvp
[INFO] 2025-12-24 00:40:00,919 api.views 19896 17172 File name: test_summary.txt
[INFO] 2025-12-24 00:40:00,919 api.views 19896 17172 Extracted text length: 371
[INFO] 2025-12-24 00:40:00,919 api.views 19896 17172 Summary length: 153
[INFO] 2025-12-24 00:40:00,919 api.views 19896 17172 Inserting document to gateway DB: doc_1766511597634_52ibzekvp
[INFO] 2025-12-24 00:40:00,936 api.views 19896 17172 Document saved to gateway DB successfully: doc_1766511597634_52ibzekvp
[INFO] 2025-12-24 00:40:00,937 api.views 19896 17172 Syncing document to RAG service DB...
[INFO] 2025-12-24 00:40:00,937 api.rag_sync_helper 19896 17172 Syncing document to RAG DB: doc_1766511597634_52ibzekvp
[INFO] 2025-12-24 00:40:00,941 api.rag_sync_helper 19896 17172 RAG chunks table ready: E:\QuickQuiz\services\rag_chatbot_service\rag_chatbot.db
[INFO] 2025-12-24 00:40:00,944 api.rag_sync_helper 19896 17172 Split into 1 chunks
[INFO] 2025-12-24 00:40:00,950 api.rag_sync_helper 19896 17172 RAG DB insert: 1 chunks
[INFO] 2025-12-24 00:40:00,950 api.views 19896 17172 Document synced to RAG service DB
[INFO] 2025-12-24 00:40:00,951 api.views 19896 17172 Requesting RAG rebuild-index...
[DEBUG] 2025-12-24 00:40:00,951 api.service_clients 19896 17172 [rag_chatbot_service] POST http://localhost:8006/admin/rebuild-index
[INFO] 2025-12-24 00:40:03,064 api.views 19896 17172 RAG rebuild-index successful
[INFO] 2025-12-24 00:40:03,066 django.server 19896 17172 "POST /api/documents/save/ HTTP/1.1" 200 153
[INFO] 2025-12-24 00:40:08,177 django.server 19896 17172 "OPTIONS /api/quiz/generate/ HTTP/1.1" 200 0
[INFO] 2025-12-24 00:40:08,180 api.views 19896 17172 Generating quiz: 1 sections, 5 questions
[INFO] 2025-12-24 00:40:08,181 api.service_clients 19896 17172 [quiz_generator] Generating quiz: 1 sections, 5 questions
[DEBUG] 2025-12-24 00:40:08,182 api.service_clients 19896 17172 [quiz_generator] POST http://localhost:8002/quiz/generate
[WARNING] 2025-12-24 00:40:16,913 api.service_clients 19896 17172 [quiz_generator] Slow request: 8.73s
[INFO] 2025-12-24 00:40:16,916 django.server 19896 17172 "POST /api/quiz/generate/ HTTP/1.1" 200 2105
[INFO] 2025-12-24 00:40:22,188 django.server 19896 17172 "OPTIONS /api/quiz/save/ HTTP/1.1" 200 0
[INFO] 2025-12-24 00:40:22,191 api.views 19896 17172 Saving quiz with 5 questions and title Quiz - test_summary.txt
[DEBUG] 2025-12-24 00:40:22,191 api.service_clients 19896 17172 [quiz_generator] POST http://localhost:8002/quiz/save
[INFO] 2025-12-24 00:40:24,280 django.server 19896 17172 "POST /api/quiz/save/ HTTP/1.1" 200 131
[INFO] 2025-12-24 00:40:39,665 django.server 19896 17172 "OPTIONS /api/quiz/evaluate/ HTTP/1.1" 200 0
[INFO] 2025-12-24 00:40:39,670 api.views 19896 17172 Evaluating quiz quiz-ea2c57a3
[INFO] 2025-12-24 00:40:39,671 api.service_clients 19896 17172 [quiz_evaluator] Evaluating quiz quiz-ea2c57a3 with 5 questions
[DEBUG] 2025-12-24 00:40:39,671 api.service_clients 19896 17172 [quiz_evaluator] POST http://localhost:8003/quiz/evaluate
[WARNING] 2025-12-24 00:40:49,922 api.service_clients 19896 17172 [quiz_evaluator] Slow request: 10.25s
[INFO] 2025-12-24 00:40:49,924 api.service_clients 19896 17172 [quiz_evaluator] Quiz quiz-ea2c57a3 evaluated: 40.0% (2/5)
[INFO] 2025-12-24 00:40:49,928 django.server 19896 17172 "POST /api/quiz/evaluate/ HTTP/1.1" 200 3022
[INFO] 2025-12-24 00:41:12,053 django.server 19896 17172 "POST /api/summary/ocr_and_summarize/ HTTP/1.1" 200 1507
[INFO] 2025-12-24 00:43:32,397 django.server 19896 17172 "POST /api/summary/ocr_and_summarize/ HTTP/1.1" 200 2088
[INFO] 2025-12-24 00:43:40,905 api.views 19896 17172 Save document request:
[INFO] 2025-12-24 00:43:40,905 api.views 19896 17172 Document ID: doc_1766511812399_5gcoqvqhl
[INFO] 2025-12-24 00:43:40,908 api.views 19896 17172 File name: test_ocr.jpg
[INFO] 2025-12-24 00:43:40,908 api.views 19896 17172 Extracted text length: 734
[INFO] 2025-12-24 00:43:40,908 api.views 19896 17172 Summary length: 187
[INFO] 2025-12-24 00:43:40,909 api.views 19896 17172 Inserting document to gateway DB: doc_1766511812399_5gcoqvqhl
[INFO] 2025-12-24 00:43:40,924 api.views 19896 17172 Document saved to gateway DB successfully: doc_1766511812399_5gcoqvqhl
[INFO] 2025-12-24 00:43:40,928 api.views 19896 17172 Syncing document to RAG service DB...
[INFO] 2025-12-24 00:43:40,928 api.rag_sync_helper 19896 17172 Syncing document to RAG DB: doc_1766511812399_5gcoqvqhl
[INFO] 2025-12-24 00:43:40,933 api.rag_sync_helper 19896 17172 RAG chunks table ready: E:\QuickQuiz\services\rag_chatbot_service\rag_chatbot.db
[INFO] 2025-12-24 00:43:40,934 api.rag_sync_helper 19896 17172 Split into 2 chunks
[INFO] 2025-12-24 00:43:40,940 api.rag_sync_helper 19896 17172 RAG DB insert: 2 chunks
[INFO] 2025-12-24 00:43:40,941 api.views 19896 17172 Document synced to RAG service DB
[INFO] 2025-12-24 00:43:40,941 api.views 19896 17172 Requesting RAG rebuild-index...
[DEBUG] 2025-12-24 00:43:40,942 api.service_clients 19896 17172 [rag_chatbot_service] POST http://localhost:8006/admin/rebuild-index
[INFO] 2025-12-24 00:43:43,040 api.views 19896 17172 RAG rebuild-index successful
[INFO] 2025-12-24 00:43:43,043 django.server 19896 17172 "POST /api/documents/save/ HTTP/1.1" 200 153
[INFO] 2025-12-24 00:44:36,492 django.server 19896 17172 "GET /api/documents/list/ HTTP/1.1" 200 4794
[DEBUG] 2025-12-24 00:44:36,495 api.service_clients 19896 17172 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 00:44:38,569 django.server 19896 17172 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1342
[INFO] 2025-12-24 00:47:19,628 django.server 19896 17172 "OPTIONS /api/rag/chat/ HTTP/1.1" 200 0
[INFO] 2025-12-24 00:47:19,638 api.service_clients 19896 17172 [rag_chatbot_service] Processing chat query: NLP là gì...
[DEBUG] 2025-12-24 00:47:19,640 api.service_clients 19896 17172 [rag_chatbot_service] POST http://localhost:8006/chat
[WARNING] 2025-12-24 00:47:25,108 api.service_clients 19896 17172 [rag_chatbot_service] Slow request: 5.47s
[INFO] 2025-12-24 00:47:25,109 api.views 19896 17172 Gateway returning 0 sources to frontend
[INFO] 2025-12-24 00:47:25,112 django.server 19896 17172 "POST /api/rag/chat/ HTTP/1.1" 200 586
[DEBUG] 2025-12-24 00:47:53,900 api.service_clients 19896 17172 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 00:47:54,216 django.server 19896 5900 "GET /api/documents/list/ HTTP/1.1" 200 4794
[INFO] 2025-12-24 00:47:55,960 django.server 19896 17172 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1342
[DEBUG] 2025-12-24 00:48:22,753 api.service_clients 19896 17172 [rag_chatbot_service] POST http://localhost:8006/chat
[WARNING] 2025-12-24 00:48:28,129 api.service_clients 19896 17172 [rag_chatbot_service] Slow request: 5.38s
[INFO] 2025-12-24 00:48:28,130 api.views 19896 17172 Gateway returning 0 sources to frontend
[INFO] 2025-12-24 00:48:28,133 django.server 19896 17172 "POST /api/rag/chat/ HTTP/1.1" 200 747
[DEBUG] 2025-12-24 00:51:47,732 api.service_clients 19896 5900 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 00:51:47,738 django.server 19896 17172 "GET /api/documents/list/ HTTP/1.1" 200 4794
[INFO] 2025-12-24 00:51:49,790 django.server 19896 5900 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1342
[INFO] 2025-12-24 00:52:06,057 api.service_clients 19896 5900 [rag_chatbot_service] Processing chat query: NLP là gì...
[DEBUG] 2025-12-24 00:52:06,059 api.service_clients 19896 5900 [rag_chatbot_service] POST http://localhost:8006/chat
[ERROR] 2025-12-24 00:52:53,126 api.service_clients 19896 5900 [rag_chatbot_service] Request timeout after 45s
[ERROR] 2025-12-24 00:52:53,127 api.views 19896 5900 Chat message failed: Request timeout after 45s
[ERROR] 2025-12-24 00:52:53,134 django.request 19896 5900 Internal Server Error: /api/rag/chat/
[ERROR] 2025-12-24 00:52:53,136 django.server 19896 5900 "POST /api/rag/chat/ HTTP/1.1" 500 90
[INFO] 2025-12-24 00:53:36,496 django.server 19896 8160 "POST /api/summary/ocr_and_summarize/ HTTP/1.1" 200 2264
[INFO] 2025-12-24 00:53:44,613 api.views 19896 8160 Save document request:
[INFO] 2025-12-24 00:53:44,613 api.views 19896 8160 Document ID: doc_1766512416498_ihrqjk8zl
[INFO] 2025-12-24 00:53:44,619 api.views 19896 8160 File name: Quiz - Quiz - test-document.txt.pdf.pdf
[INFO] 2025-12-24 00:53:44,619 api.views 19896 8160 Extracted text length: 871
[INFO] 2025-12-24 00:53:44,620 api.views 19896 8160 Summary length: 228
[INFO] 2025-12-24 00:53:44,620 api.views 19896 8160 Inserting document to gateway DB: doc_1766512416498_ihrqjk8zl
[INFO] 2025-12-24 00:53:44,635 api.views 19896 8160 Document saved to gateway DB successfully: doc_1766512416498_ihrqjk8zl
[INFO] 2025-12-24 00:53:44,637 api.views 19896 8160 Syncing document to RAG service DB...
[INFO] 2025-12-24 00:53:44,637 api.rag_sync_helper 19896 8160 Syncing document to RAG DB: doc_1766512416498_ihrqjk8zl
[INFO] 2025-12-24 00:53:44,639 api.rag_sync_helper 19896 8160 RAG chunks table ready: E:\QuickQuiz\services\rag_chatbot_service\rag_chatbot.db
[INFO] 2025-12-24 00:53:44,639 api.rag_sync_helper 19896 8160 Split into 2 chunks
[INFO] 2025-12-24 00:53:44,645 api.rag_sync_helper 19896 8160 RAG DB insert: 2 chunks
[INFO] 2025-12-24 00:53:44,645 api.views 19896 8160 Document synced to RAG service DB
[INFO] 2025-12-24 00:53:44,649 api.views 19896 8160 Requesting RAG rebuild-index...
[DEBUG] 2025-12-24 00:53:44,649 api.service_clients 19896 8160 [rag_chatbot_service] POST http://localhost:8006/admin/rebuild-index
[WARNING] 2025-12-24 00:55:02,741 api.service_clients 19896 8160 [rag_chatbot_service] Slow request: 78.09s
[INFO] 2025-12-24 00:55:02,741 api.views 19896 8160 RAG rebuild-index successful
[INFO] 2025-12-24 00:55:02,745 django.server 19896 8160 - Broken pipe from ('127.0.0.1', 58663)
[INFO] 2025-12-24 00:59:03,042 django.utils.autoreload 17272 20060 Watching for file changes with StatReloader
[DEBUG] 2025-12-24 00:59:07,368 api.service_clients 17272 20108 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 00:59:07,383 django.server 17272 18088 "GET /api/documents/list/ HTTP/1.1" 200 34
[INFO] 2025-12-24 00:59:09,448 django.server 17272 20108 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1342
[DEBUG] 2025-12-24 00:59:19,723 api.service_clients 17272 20108 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 00:59:19,729 django.server 17272 18088 "GET /api/documents/list/ HTTP/1.1" 200 34
[INFO] 2025-12-24 00:59:21,811 django.server 17272 20108 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1342
[INFO] 2025-12-24 00:59:30,448 django.server 17272 20108 "OPTIONS /api/documents/process/ HTTP/1.1" 200 0
[INFO] 2025-12-24 00:59:30,453 api.views 17272 20108 Processing document: test.docx (type: docx)
[INFO] 2025-12-24 00:59:30,454 api.views 17272 20108 Base64 decoded: 16065 bytes
[INFO] 2025-12-24 00:59:30,454 api.views 17272 20108 Extracting text from DOCX...
[INFO] 2025-12-24 00:59:30,475 api.views 17272 20108 DOCX extracted: 371 chars
[INFO] 2025-12-24 00:59:30,476 api.views 17272 20108 Creating summary...
[INFO] 2025-12-24 00:59:30,476 api.service_clients 17272 20108 [summary_service] Summarizing text: 371 characters
[DEBUG] 2025-12-24 00:59:30,476 api.service_clients 17272 20108 [summary_service] POST http://localhost:8005/summarize_text
[WARNING] 2025-12-24 00:59:38,315 api.service_clients 17272 20108 [summary_service] Slow request: 7.84s
[INFO] 2025-12-24 00:59:38,315 api.views 17272 20108 Document processed successfully
[INFO] 2025-12-24 00:59:38,318 api.views 17272 20108 Extracted: 371 chars
[INFO] 2025-12-24 00:59:38,318 api.views 17272 20108 Summary: 153 chars
[INFO] 2025-12-24 00:59:38,320 django.server 17272 20108 "POST /api/documents/process/ HTTP/1.1" 200 1174
[INFO] 2025-12-24 00:59:41,941 api.views 17272 20108 Save document request:
[INFO] 2025-12-24 00:59:41,942 api.views 17272 20108 Document ID: doc_1766512778323_16py19qj6
[INFO] 2025-12-24 00:59:41,943 api.views 17272 20108 File name: test.docx
[INFO] 2025-12-24 00:59:41,944 api.views 17272 20108 Extracted text length: 371
[INFO] 2025-12-24 00:59:41,944 api.views 17272 20108 Summary length: 153
[INFO] 2025-12-24 00:59:41,945 api.views 17272 20108 Inserting document to gateway DB: doc_1766512778323_16py19qj6
[INFO] 2025-12-24 00:59:41,951 api.views 17272 20108 Document saved to gateway DB successfully: doc_1766512778323_16py19qj6
[INFO] 2025-12-24 00:59:41,951 api.views 17272 20108 Syncing document to RAG service DB...
[INFO] 2025-12-24 00:59:41,952 api.rag_sync_helper 17272 20108 Syncing document to RAG DB: doc_1766512778323_16py19qj6
[INFO] 2025-12-24 00:59:41,954 api.rag_sync_helper 17272 20108 RAG chunks table ready: E:\QuickQuiz\services\rag_chatbot_service\rag_chatbot.db
[INFO] 2025-12-24 00:59:41,954 api.rag_sync_helper 17272 20108 Split into 1 chunks
[INFO] 2025-12-24 00:59:41,961 api.rag_sync_helper 17272 20108 RAG DB insert: 1 chunks
[INFO] 2025-12-24 00:59:41,962 api.views 17272 20108 Document synced to RAG service DB
[INFO] 2025-12-24 00:59:41,962 api.views 17272 20108 Requesting RAG rebuild-index...
[DEBUG] 2025-12-24 00:59:41,963 api.service_clients 17272 20108 [rag_chatbot_service] POST http://localhost:8006/admin/rebuild-index
[INFO] 2025-12-24 00:59:44,085 api.views 17272 20108 RAG rebuild-index successful
[INFO] 2025-12-24 00:59:44,087 django.server 17272 20108 "POST /api/documents/save/ HTTP/1.1" 200 153
[INFO] 2025-12-24 01:00:04,807 api.service_clients 17272 20108 [rag_chatbot_service] Processing chat query: NLP là gì?...
[DEBUG] 2025-12-24 01:00:04,809 api.service_clients 17272 20108 [rag_chatbot_service] POST http://localhost:8006/chat
[WARNING] 2025-12-24 01:00:10,712 api.service_clients 17272 20108 [rag_chatbot_service] Slow request: 5.90s
[INFO] 2025-12-24 01:00:10,713 api.views 17272 20108 Gateway returning 0 sources to frontend
[INFO] 2025-12-24 01:00:10,716 django.server 17272 20108 "POST /api/rag/chat/ HTTP/1.1" 200 762
[INFO] 2025-12-24 01:02:30,146 django.utils.autoreload 19540 9896 Watching for file changes with StatReloader
[DEBUG] 2025-12-24 01:02:34,425 api.service_clients 19540 18960 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 01:02:34,430 django.server 19540 18600 "GET /api/documents/list/ HTTP/1.1" 200 1375
[INFO] 2025-12-24 01:02:36,530 django.server 19540 18960 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1342
[DEBUG] 2025-12-24 01:02:40,356 api.service_clients 19540 18960 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 01:02:40,362 django.server 19540 18600 "GET /api/documents/list/ HTTP/1.1" 200 1375
[INFO] 2025-12-24 01:02:40,372 django.server 19540 18960 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1342
[INFO] 2025-12-24 01:03:12,462 api.service_clients 19540 18960 [rag_chatbot_service] Processing chat query: NLP là gì?...
[DEBUG] 2025-12-24 01:03:12,462 api.service_clients 19540 18960 [rag_chatbot_service] POST http://localhost:8006/chat
[ERROR] 2025-12-24 01:03:59,534 api.service_clients 19540 18960 [rag_chatbot_service] Request timeout after 45s
[ERROR] 2025-12-24 01:03:59,536 api.views 19540 18960 Chat message failed: Request timeout after 45s
[ERROR] 2025-12-24 01:03:59,538 django.request 19540 18960 Internal Server Error: /api/rag/chat/
[ERROR] 2025-12-24 01:03:59,539 django.server 19540 18960 "POST /api/rag/chat/ HTTP/1.1" 500 90
[INFO] 2025-12-24 01:04:11,898 api.service_clients 19540 18960 [rag_chatbot_service] Processing chat query: NLP là gì?...
[DEBUG] 2025-12-24 01:04:11,899 api.service_clients 19540 18960 [rag_chatbot_service] POST http://localhost:8006/chat
[ERROR] 2025-12-24 01:04:58,976 api.service_clients 19540 18960 [rag_chatbot_service] Request timeout after 45s
[ERROR] 2025-12-24 01:04:58,977 api.views 19540 18960 Chat message failed: Request timeout after 45s
[ERROR] 2025-12-24 01:04:58,978 django.request 19540 18960 Internal Server Error: /api/rag/chat/
[ERROR] 2025-12-24 01:04:58,979 django.server 19540 18960 "POST /api/rag/chat/ HTTP/1.1" 500 90
[DEBUG] 2025-12-24 01:05:07,113 api.service_clients 19540 18600 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 01:05:07,119 django.server 19540 18960 "GET /api/documents/list/ HTTP/1.1" 200 1375
[INFO] 2025-12-24 01:05:09,172 django.server 19540 18600 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1342
[INFO] 2025-12-24 01:05:23,029 api.views 19540 18600 Processing document: test.docx (type: docx)
[INFO] 2025-12-24 01:05:23,031 api.views 19540 18600 Base64 decoded: 16065 bytes
[INFO] 2025-12-24 01:05:23,033 api.views 19540 18600 Extracting text from DOCX...
[INFO] 2025-12-24 01:05:23,053 api.views 19540 18600 DOCX extracted: 371 chars
[INFO] 2025-12-24 01:05:23,054 api.views 19540 18600 Creating summary...
[INFO] 2025-12-24 01:05:23,054 api.service_clients 19540 18600 [summary_service] Summarizing text: 371 characters
[DEBUG] 2025-12-24 01:05:23,055 api.service_clients 19540 18600 [summary_service] POST http://localhost:8005/summarize_text
[WARNING] 2025-12-24 01:05:30,910 api.service_clients 19540 18600 [summary_service] Slow request: 7.85s
[INFO] 2025-12-24 01:05:30,910 api.views 19540 18600 Document processed successfully
[INFO] 2025-12-24 01:05:30,912 api.views 19540 18600 Extracted: 371 chars
[INFO] 2025-12-24 01:05:30,912 api.views 19540 18600 Summary: 153 chars
[INFO] 2025-12-24 01:05:30,914 django.server 19540 18600 "POST /api/documents/process/ HTTP/1.1" 200 1174
[INFO] 2025-12-24 01:05:35,879 api.views 19540 18600 Save document request:
[INFO] 2025-12-24 01:05:35,880 api.views 19540 18600 Document ID: doc_1766513130917_ugi2zo4us
[INFO] 2025-12-24 01:05:35,880 api.views 19540 18600 File name: test.docx
[INFO] 2025-12-24 01:05:35,882 api.views 19540 18600 Extracted text length: 371
[INFO] 2025-12-24 01:05:35,882 api.views 19540 18600 Summary length: 153
[INFO] 2025-12-24 01:05:35,883 api.views 19540 18600 Inserting document to gateway DB: doc_1766513130917_ugi2zo4us
[INFO] 2025-12-24 01:05:35,898 api.views 19540 18600 Document saved to gateway DB successfully: doc_1766513130917_ugi2zo4us
[INFO] 2025-12-24 01:05:35,899 api.views 19540 18600 Syncing document to RAG service DB...
[INFO] 2025-12-24 01:05:35,899 api.rag_sync_helper 19540 18600 Syncing document to RAG DB: doc_1766513130917_ugi2zo4us
[INFO] 2025-12-24 01:05:35,901 api.rag_sync_helper 19540 18600 RAG chunks table ready: E:\QuickQuiz\services\rag_chatbot_service\rag_chatbot.db
[INFO] 2025-12-24 01:05:35,902 api.rag_sync_helper 19540 18600 Split into 1 chunks
[INFO] 2025-12-24 01:05:35,908 api.rag_sync_helper 19540 18600 RAG DB insert: 1 chunks
[INFO] 2025-12-24 01:05:35,910 api.views 19540 18600 Document synced to RAG service DB
[INFO] 2025-12-24 01:05:35,911 api.views 19540 18600 Requesting RAG rebuild-index...
[DEBUG] 2025-12-24 01:05:35,912 api.service_clients 19540 18600 [rag_chatbot_service] POST http://localhost:8006/admin/rebuild-index
[INFO] 2025-12-24 01:06:39,679 django.server 19540 18960 "OPTIONS /api/auth/logout/ HTTP/1.1" 200 0
[INFO] 2025-12-24 01:06:39,684 api.service_clients 19540 18960 [iam_service] Logging out user
[DEBUG] 2025-12-24 01:06:39,685 api.service_clients 19540 18960 [iam_service] POST http://localhost:8001/api/users/logout/
[ERROR] 2025-12-24 01:07:02,052 api.service_clients 19540 18960 [iam_service] Connection failed to iam_service: HTTPConnectionPool(host='localhost', port=8001): Max retries exceeded with url: /api/users/logout/ (Caused by NewConnectionError("HTTPConnection(host='localhost', port=8001): Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it"))
[ERROR] 2025-12-24 01:07:02,052 api.views 19540 18960 Logout failed: Connection failed to iam_service
[WARNING] 2025-12-24 01:07:02,058 django.request 19540 18960 Bad Request: /api/auth/logout/
[WARNING] 2025-12-24 01:07:02,059 django.server 19540 18960 "POST /api/auth/logout/ HTTP/1.1" 400 60
[INFO] 2025-12-24 01:07:07,762 django.server 19540 18960 "OPTIONS /api/auth/login/ HTTP/1.1" 200 0
[INFO] 2025-12-24 01:07:07,767 api.views 19540 18960 Login attempt for username: Student01
[INFO] 2025-12-24 01:07:07,768 api.views 19540 18960 Calling IAM service to login user: Student01
[INFO] 2025-12-24 01:07:07,768 api.service_clients 19540 18960 [iam_service] Login attempt for user: Student01
[DEBUG] 2025-12-24 01:07:07,768 api.service_clients 19540 18960 [iam_service] POST http://localhost:8001/api/users/login/
[ERROR] 2025-12-24 01:07:30,191 api.service_clients 19540 18960 [iam_service] Connection failed to iam_service: HTTPConnectionPool(host='localhost', port=8001): Max retries exceeded with url: /api/users/login/ (Caused by NewConnectionError("HTTPConnection(host='localhost', port=8001): Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it"))
[WARNING] 2025-12-24 01:07:30,192 api.service_clients 19540 18960 [iam_service] Login failed for user: Student01
[ERROR] 2025-12-24 01:07:30,194 api.views 19540 18960 Login failed for Student01: Connection failed to iam_service
[WARNING] 2025-12-24 01:07:30,195 django.request 19540 18960 Unauthorized: /api/auth/login/
[WARNING] 2025-12-24 01:07:30,196 django.server 19540 18960 "POST /api/auth/login/ HTTP/1.1" 401 60
[ERROR] 2025-12-24 01:07:37,979 api.service_clients 19540 18600 [rag_chatbot_service] Request timeout after 120s
[WARNING] 2025-12-24 01:07:37,980 api.views 19540 18600 RAG rebuild-index returned error: Request timeout after 120s
[INFO] 2025-12-24 01:07:37,983 django.server 19540 18600 - Broken pipe from ('127.0.0.1', 64102)
[INFO] 2025-12-24 01:09:28,520 django.utils.autoreload 4404 19216 Watching for file changes with StatReloader
[INFO] 2025-12-24 01:09:35,447 api.views 4404 21144 Login attempt for username: Student01
[INFO] 2025-12-24 01:09:35,447 api.views 4404 21144 Calling IAM service to login user: Student01
[INFO] 2025-12-24 01:09:35,447 api.service_clients 4404 21144 [iam_service] Login attempt for user: Student01
[DEBUG] 2025-12-24 01:09:35,447 api.service_clients 4404 21144 [iam_service] POST http://localhost:8001/api/users/login/
[INFO] 2025-12-24 01:09:40,261 api.service_clients 4404 21144 [iam_service] Login successful for user: Student01
[INFO] 2025-12-24 01:09:40,262 api.views 4404 21144 User logged in successfully: Student01
[INFO] 2025-12-24 01:09:40,264 django.server 4404 21144 "POST /api/auth/login/ HTTP/1.1" 200 1359
[DEBUG] 2025-12-24 01:09:40,321 api.service_clients 4404 19632 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 01:09:40,330 django.server 4404 21144 "GET /api/documents/list/ HTTP/1.1" 200 2718
[INFO] 2025-12-24 01:09:42,424 django.server 4404 19632 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1342
[INFO] 2025-12-24 01:09:54,925 api.service_clients 4404 19632 [summary_service] Summarizing text: 371 characters
[DEBUG] 2025-12-24 01:09:54,927 api.service_clients 4404 19632 [summary_service] POST http://localhost:8005/summarize_text
[WARNING] 2025-12-24 01:10:02,413 api.service_clients 4404 19632 [summary_service] Slow request: 7.49s
[INFO] 2025-12-24 01:10:02,414 django.server 4404 19632 "POST /api/summary/summarize_text/ HTTP/1.1" 200 393
[INFO] 2025-12-24 01:10:04,911 api.views 4404 19632 Save document request:
[INFO] 2025-12-24 01:10:04,912 api.views 4404 19632 Document ID: doc_1766513402416_7s1m27vsu
[INFO] 2025-12-24 01:10:04,913 api.views 4404 19632 File name: test_summary.txt
[INFO] 2025-12-24 01:10:04,913 api.views 4404 19632 Extracted text length: 371
[INFO] 2025-12-24 01:10:04,913 api.views 4404 19632 Summary length: 153
[INFO] 2025-12-24 01:10:04,914 api.views 4404 19632 Inserting document to gateway DB: doc_1766513402416_7s1m27vsu
[INFO] 2025-12-24 01:10:04,921 api.views 4404 19632 Document saved to gateway DB successfully: doc_1766513402416_7s1m27vsu
[INFO] 2025-12-24 01:10:04,922 api.views 4404 19632 Syncing document to RAG service DB...
[INFO] 2025-12-24 01:10:04,923 api.rag_sync_helper 4404 19632 Syncing document to RAG DB: doc_1766513402416_7s1m27vsu
[INFO] 2025-12-24 01:10:04,927 api.rag_sync_helper 4404 19632 RAG chunks table ready: E:\QuickQuiz\services\rag_chatbot_service\rag_chatbot.db
[INFO] 2025-12-24 01:10:04,927 api.rag_sync_helper 4404 19632 Split into 1 chunks
[INFO] 2025-12-24 01:10:04,934 api.rag_sync_helper 4404 19632 RAG DB insert: 1 chunks
[INFO] 2025-12-24 01:10:04,935 api.views 4404 19632 Document synced to RAG service DB
[INFO] 2025-12-24 01:10:04,935 api.views 4404 19632 Requesting RAG rebuild-index...
[DEBUG] 2025-12-24 01:10:04,936 api.service_clients 4404 19632 [rag_chatbot_service] POST http://localhost:8006/admin/rebuild-index
[INFO] 2025-12-24 01:10:07,097 api.views 4404 19632 RAG rebuild-index successful
[INFO] 2025-12-24 01:10:07,098 django.server 4404 19632 "POST /api/documents/save/ HTTP/1.1" 200 153
[INFO] 2025-12-24 01:10:32,572 api.service_clients 4404 19632 [rag_chatbot_service] Processing chat query: NLP là gì?...
[DEBUG] 2025-12-24 01:10:32,572 api.service_clients 4404 19632 [rag_chatbot_service] POST http://localhost:8006/chat
[WARNING] 2025-12-24 01:10:40,474 api.service_clients 4404 19632 [rag_chatbot_service] Slow request: 7.90s
[INFO] 2025-12-24 01:10:40,475 api.views 4404 19632 Gateway returning 2 sources to frontend
[INFO] 2025-12-24 01:10:40,479 django.server 4404 19632 "POST /api/rag/chat/ HTTP/1.1" 200 7983
[INFO] 2025-12-24 01:12:35,348 api.service_clients 4404 19632 [rag_chatbot_service] Processing chat query: Python là gì?...
[DEBUG] 2025-12-24 01:12:35,349 api.service_clients 4404 19632 [rag_chatbot_service] POST http://localhost:8006/chat
[WARNING] 2025-12-24 01:12:41,306 api.service_clients 4404 19632 [rag_chatbot_service] Slow request: 5.96s
[INFO] 2025-12-24 01:12:41,307 api.views 4404 19632 Gateway returning 2 sources to frontend
[INFO] 2025-12-24 01:12:41,310 django.server 4404 19632 "POST /api/rag/chat/ HTTP/1.1" 200 7543
[DEBUG] 2025-12-24 01:12:51,066 api.service_clients 4404 19632 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 01:12:51,072 django.server 4404 21144 "GET /api/documents/list/ HTTP/1.1" 200 4005
[INFO] 2025-12-24 01:12:53,148 django.server 4404 19632 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1342
[INFO] 2025-12-24 01:12:57,632 django.server 4404 19632 "GET /api/documents/list/ HTTP/1.1" 200 4005
[DEBUG] 2025-12-24 01:12:58,937 api.service_clients 4404 21144 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 01:12:58,942 django.server 4404 19632 "GET /api/documents/list/ HTTP/1.1" 200 4005
[INFO] 2025-12-24 01:13:01,008 django.server 4404 21144 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1342
[INFO] 2025-12-24 01:15:43,741 django.utils.autoreload 19160 2916 Watching for file changes with StatReloader
[DEBUG] 2025-12-24 01:15:47,274 api.service_clients 19160 20736 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 01:15:47,282 django.server 19160 21012 "GET /api/documents/list/ HTTP/1.1" 200 4005
[INFO] 2025-12-24 01:15:49,371 django.server 19160 20736 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1342
[INFO] 2025-12-24 01:15:55,818 api.service_clients 19160 20736 [summary_service] Summarizing text: 371 characters
[DEBUG] 2025-12-24 01:15:55,819 api.service_clients 19160 20736 [summary_service] POST http://localhost:8005/summarize_text
[WARNING] 2025-12-24 01:16:06,116 api.service_clients 19160 20736 [summary_service] Slow request: 10.30s
[INFO] 2025-12-24 01:16:06,117 django.server 19160 20736 "POST /api/summary/summarize_text/ HTTP/1.1" 200 330
[INFO] 2025-12-24 01:19:47,379 api.service_clients 19160 20736 [rag_chatbot_service] Processing chat query: Python là gì?...
[DEBUG] 2025-12-24 01:19:47,380 api.service_clients 19160 20736 [rag_chatbot_service] POST http://localhost:8006/chat
[WARNING] 2025-12-24 01:19:52,950 api.service_clients 19160 20736 [rag_chatbot_service] Slow request: 5.57s
[INFO] 2025-12-24 01:19:52,951 api.views 19160 20736 Gateway returning 2 sources to frontend
[INFO] 2025-12-24 01:19:52,952 django.server 19160 20736 "POST /api/rag/chat/ HTTP/1.1" 200 7499
[INFO] 2025-12-24 01:29:36,773 django.server 19160 15580 "POST /api/summary/ocr_and_summarize/ HTTP/1.1" 200 1671
[INFO] 2025-12-24 01:30:59,258 api.views 19160 15580 Save document request:
[INFO] 2025-12-24 01:30:59,259 api.views 19160 15580 Document ID: doc_1766514576775_1dgcumfd9
[INFO] 2025-12-24 01:30:59,260 api.views 19160 15580 File name: test_ocr.jpg
[INFO] 2025-12-24 01:30:59,260 api.views 19160 15580 Extracted text length: 734
[INFO] 2025-12-24 01:30:59,260 api.views 19160 15580 Summary length: 734
[INFO] 2025-12-24 01:30:59,262 api.views 19160 15580 Inserting document to gateway DB: doc_1766514576775_1dgcumfd9
[INFO] 2025-12-24 01:30:59,269 api.views 19160 15580 Document saved to gateway DB successfully: doc_1766514576775_1dgcumfd9
[INFO] 2025-12-24 01:30:59,269 api.views 19160 15580 Syncing document to RAG service DB...
[INFO] 2025-12-24 01:30:59,271 api.rag_sync_helper 19160 15580 Syncing document to RAG DB: doc_1766514576775_1dgcumfd9
[INFO] 2025-12-24 01:30:59,274 api.rag_sync_helper 19160 15580 RAG chunks table ready: E:\QuickQuiz\services\rag_chatbot_service\rag_chatbot.db
[INFO] 2025-12-24 01:30:59,275 api.rag_sync_helper 19160 15580 Split into 2 chunks
[INFO] 2025-12-24 01:30:59,281 api.rag_sync_helper 19160 15580 RAG DB insert: 2 chunks
[INFO] 2025-12-24 01:30:59,282 api.views 19160 15580 Document synced to RAG service DB
[INFO] 2025-12-24 01:30:59,283 api.views 19160 15580 Requesting RAG rebuild-index...
[DEBUG] 2025-12-24 01:30:59,284 api.service_clients 19160 15580 [rag_chatbot_service] POST http://localhost:8006/admin/rebuild-index
[INFO] 2025-12-24 01:31:01,405 api.views 19160 15580 RAG rebuild-index successful
[INFO] 2025-12-24 01:31:01,406 django.server 19160 15580 "POST /api/documents/save/ HTTP/1.1" 200 153
[INFO] 2025-12-24 01:33:50,425 django.utils.autoreload 8352 5088 Watching for file changes with StatReloader
[DEBUG] 2025-12-24 01:33:54,559 api.service_clients 8352 15572 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 01:33:54,559 django.server 8352 18488 "GET /api/documents/list/ HTTP/1.1" 200 6609
[INFO] 2025-12-24 01:33:56,611 django.server 8352 15572 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1342
[INFO] 2025-12-24 01:51:31,052 api.service_clients 8352 19136 [iam_service] Logging out user
[DEBUG] 2025-12-24 01:51:31,052 api.service_clients 8352 19136 [iam_service] POST http://localhost:8001/api/users/logout/
[ERROR] 2025-12-24 01:51:33,130 api.service_clients 8352 19136 [iam_service] HTTP 500: 401 Client Error: Unauthorized for url: http://localhost:8001/api/users/logout/
[ERROR] 2025-12-24 01:51:33,130 api.views 8352 19136 Logout failed: HTTP 500: 401 Client Error: Unauthorized for url: http://localhost:8001/api/users/logout/
[WARNING] 2025-12-24 01:51:33,130 django.request 8352 19136 Bad Request: /api/auth/logout/
[WARNING] 2025-12-24 01:51:33,130 django.server 8352 19136 "POST /api/auth/logout/ HTTP/1.1" 400 117
[INFO] 2025-12-24 01:55:35,902 django.server 8352 15132 "OPTIONS /api/auth/login/ HTTP/1.1" 200 0
[INFO] 2025-12-24 01:55:35,905 api.views 8352 15132 Login attempt for username: Student01
[INFO] 2025-12-24 01:55:35,906 api.views 8352 15132 Calling IAM service to login user: Student01
[INFO] 2025-12-24 01:55:35,906 api.service_clients 8352 15132 [iam_service] Login attempt for user: Student01
[DEBUG] 2025-12-24 01:55:35,906 api.service_clients 8352 15132 [iam_service] POST http://localhost:8001/api/users/login/
[INFO] 2025-12-24 01:55:38,187 api.service_clients 8352 15132 [iam_service] Login successful for user: Student01
[INFO] 2025-12-24 01:55:38,188 api.views 8352 15132 User logged in successfully: Student01
[INFO] 2025-12-24 01:55:38,190 django.server 8352 15132 "POST /api/auth/login/ HTTP/1.1" 200 1359
[INFO] 2025-12-24 01:55:38,249 django.server 8352 15132 "OPTIONS /api/documents/list/ HTTP/1.1" 200 0
[INFO] 2025-12-24 01:55:38,249 django.server 8352 17728 "OPTIONS /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 0
[DEBUG] 2025-12-24 01:55:38,262 api.service_clients 8352 15132 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 01:55:38,271 django.server 8352 17728 "GET /api/documents/list/ HTTP/1.1" 200 6609
[INFO] 2025-12-24 01:55:40,337 django.server 8352 15132 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1342
[INFO] 2025-12-24 01:55:56,879 django.server 8352 15132 "OPTIONS /api/summary/summarize_text/ HTTP/1.1" 200 0
[INFO] 2025-12-24 01:55:56,890 api.service_clients 8352 15132 [summary_service] Summarizing text: 1933 characters
[DEBUG] 2025-12-24 01:55:56,891 api.service_clients 8352 15132 [summary_service] POST http://localhost:8005/summarize_text
[WARNING] 2025-12-24 01:56:15,955 api.service_clients 8352 15132 [summary_service] Slow request: 19.06s
[INFO] 2025-12-24 01:56:15,957 django.server 8352 15132 "POST /api/summary/summarize_text/ HTTP/1.1" 200 81
[INFO] 2025-12-24 01:56:20,701 django.server 8352 3392 "OPTIONS /api/documents/save/ HTTP/1.1" 200 0
[INFO] 2025-12-24 01:56:20,704 api.views 8352 3392 Save document request:
[INFO] 2025-12-24 01:56:20,705 api.views 8352 3392 Document ID: doc_1766516175960_f5v2fertm
[INFO] 2025-12-24 01:56:20,744 api.views 8352 3392 Extracted text length: 1932
[INFO] 2025-12-24 01:56:20,745 api.views 8352 3392 Summary length: 1932
[INFO] 2025-12-24 01:56:20,748 api.views 8352 3392 Inserting document to gateway DB: doc_1766516175960_f5v2fertm
[INFO] 2025-12-24 01:56:20,758 api.views 8352 3392 Document saved to gateway DB successfully: doc_1766516175960_f5v2fertm
[INFO] 2025-12-24 01:56:20,758 api.views 8352 3392 Syncing document to RAG service DB...
[INFO] 2025-12-24 01:56:20,758 api.rag_sync_helper 8352 3392 Syncing document to RAG DB: doc_1766516175960_f5v2fertm
[INFO] 2025-12-24 01:56:20,762 api.rag_sync_helper 8352 3392 RAG chunks table ready: E:\QuickQuiz\services\rag_chatbot_service\rag_chatbot.db
[INFO] 2025-12-24 01:56:20,764 api.rag_sync_helper 8352 3392 Split into 5 chunks
[INFO] 2025-12-24 01:56:20,772 api.rag_sync_helper 8352 3392 RAG DB insert: 5 chunks
[INFO] 2025-12-24 01:56:20,773 api.views 8352 3392 Document synced to RAG service DB
[INFO] 2025-12-24 01:56:20,774 api.views 8352 3392 Requesting RAG rebuild-index...
[DEBUG] 2025-12-24 01:56:20,774 api.service_clients 8352 3392 [rag_chatbot_service] POST http://localhost:8006/admin/rebuild-index
[INFO] 2025-12-24 01:56:23,000 api.views 8352 3392 RAG rebuild-index successful
[INFO] 2025-12-24 01:56:23,002 django.server 8352 3392 "POST /api/documents/save/ HTTP/1.1" 200 153
[INFO] 2025-12-24 01:56:45,939 django.server 8352 3392 "OPTIONS /api/quiz/generate/ HTTP/1.1" 200 0
[INFO] 2025-12-24 01:56:45,943 api.views 8352 3392 Generating quiz: 1 sections, 5 questions
[INFO] 2025-12-24 01:56:45,944 api.service_clients 8352 3392 [quiz_generator] Generating quiz: 1 sections, 5 questions
[DEBUG] 2025-12-24 01:56:45,944 api.service_clients 8352 3392 [quiz_generator] POST http://localhost:8002/quiz/generate
[WARNING] 2025-12-24 01:56:58,100 api.service_clients 8352 3392 [quiz_generator] Slow request: 12.16s
[INFO] 2025-12-24 01:56:58,103 django.server 8352 3392 "POST /api/quiz/generate/ HTTP/1.1" 200 2601
[INFO] 2025-12-24 01:57:36,078 django.server 8352 3392 "OPTIONS /api/quiz/save/ HTTP/1.1" 200 0
[DEBUG] 2025-12-24 01:57:36,139 api.service_clients 8352 3392 [quiz_generator] POST http://localhost:8002/quiz/save
[INFO] 2025-12-24 01:57:38,208 django.server 8352 3392 "POST /api/quiz/save/ HTTP/1.1" 200 131
[DEBUG] 2025-12-24 02:05:44,430 api.service_clients 8352 2772 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 02:05:44,439 django.server 8352 20384 "GET /api/documents/list/ HTTP/1.1" 200 11558
[INFO] 2025-12-24 02:05:46,509 django.server 8352 2772 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1558
[INFO] 2025-12-24 02:05:50,241 django.server 8352 2772 "OPTIONS /api/quiz/quiz-1065086a/ HTTP/1.1" 200 0
[DEBUG] 2025-12-24 02:05:50,246 api.service_clients 8352 2772 [quiz_generator] GET http://localhost:8002/quiz/quiz-1065086a
[INFO] 2025-12-24 02:05:50,274 django.server 8352 2772 "GET /api/quiz/quiz-1065086a/ HTTP/1.1" 200 2285
[INFO] 2025-12-24 02:05:50,295 django.server 8352 2772 "GET /api/documents/list/ HTTP/1.1" 200 11558
[DEBUG] 2025-12-24 02:06:13,093 api.service_clients 8352 2772 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 02:06:13,100 django.server 8352 20384 "GET /api/documents/list/ HTTP/1.1" 200 11558
[INFO] 2025-12-24 02:06:15,152 django.server 8352 2772 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1558
[DEBUG] 2025-12-24 02:06:22,921 api.service_clients 8352 2772 [quiz_generator] GET http://localhost:8002/quiz/quiz-1065086a
[INFO] 2025-12-24 02:06:24,981 django.server 8352 2772 "GET /api/quiz/quiz-1065086a/ HTTP/1.1" 200 2285
[INFO] 2025-12-24 02:06:25,011 django.server 8352 2772 "GET /api/documents/list/ HTTP/1.1" 200 11558
[DEBUG] 2025-12-24 02:06:31,048 api.service_clients 8352 2772 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 02:06:31,055 django.server 8352 20384 "GET /api/documents/list/ HTTP/1.1" 200 11558
[INFO] 2025-12-24 02:06:33,114 django.server 8352 2772 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1558
[DEBUG] 2025-12-24 02:06:35,245 api.service_clients 8352 2772 [quiz_generator] GET http://localhost:8002/quiz/quiz-1065086a
[INFO] 2025-12-24 02:06:35,257 django.server 8352 2772 "GET /api/quiz/quiz-1065086a/ HTTP/1.1" 200 2285
[INFO] 2025-12-24 02:07:24,105 django.server 8352 2772 "OPTIONS /api/quiz/evaluate/ HTTP/1.1" 200 0
[INFO] 2025-12-24 02:07:24,108 api.views 8352 2772 Evaluating quiz quiz-1065086a
[INFO] 2025-12-24 02:07:24,110 api.service_clients 8352 2772 [quiz_evaluator] Evaluating quiz quiz-1065086a with 5 questions
[DEBUG] 2025-12-24 02:07:24,110 api.service_clients 8352 2772 [quiz_evaluator] POST http://localhost:8003/quiz/evaluate
[WARNING] 2025-12-24 02:07:34,080 api.service_clients 8352 2772 [quiz_evaluator] Slow request: 9.97s
[INFO] 2025-12-24 02:07:34,080 api.service_clients 8352 2772 [quiz_evaluator] Quiz quiz-1065086a evaluated: 80.0% (4/5)
[INFO] 2025-12-24 02:07:34,083 django.server 8352 2772 "POST /api/quiz/evaluate/ HTTP/1.1" 200 3103
[INFO] 2025-12-24 02:10:27,766 django.server 8352 2772 "GET /api/documents/list/ HTTP/1.1" 200 11558
[DEBUG] 2025-12-24 02:10:49,437 api.service_clients 8352 2772 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 02:10:49,450 django.server 8352 20384 "GET /api/documents/list/ HTTP/1.1" 200 11558
[INFO] 2025-12-24 02:10:50,163 django.server 8352 20384 "GET /api/documents/list/ HTTP/1.1" 200 11558
[INFO] 2025-12-24 02:10:51,487 django.server 8352 2772 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1558
[DEBUG] 2025-12-24 02:11:26,719 api.service_clients 8352 2772 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 02:11:26,726 django.server 8352 20384 "GET /api/documents/list/ HTTP/1.1" 200 11558
[INFO] 2025-12-24 02:11:28,771 django.server 8352 2772 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1558
[INFO] 2025-12-24 02:11:49,324 api.service_clients 8352 2772 [summary_service] Summarizing text: 371 characters
[DEBUG] 2025-12-24 02:11:49,325 api.service_clients 8352 2772 [summary_service] POST http://localhost:8005/summarize_text
[WARNING] 2025-12-24 02:11:54,666 api.service_clients 8352 2772 [summary_service] Slow request: 5.34s
[INFO] 2025-12-24 02:11:54,669 django.server 8352 2772 "POST /api/summary/summarize_text/ HTTP/1.1" 200 330
[INFO] 2025-12-24 02:12:10,596 django.server 8352 2772 "OPTIONS /api/documents/process/ HTTP/1.1" 200 0
[INFO] 2025-12-24 02:12:10,602 api.views 8352 2772 Processing document: test.docx (type: docx)
[INFO] 2025-12-24 02:12:10,604 api.views 8352 2772 Base64 decoded: 16065 bytes
[INFO] 2025-12-24 02:12:10,605 api.views 8352 2772 Extracting text from DOCX...
[INFO] 2025-12-24 02:12:10,632 api.views 8352 2772 DOCX extracted: 371 chars
[INFO] 2025-12-24 02:12:10,633 api.views 8352 2772 Creating summary...
[INFO] 2025-12-24 02:12:10,633 api.service_clients 8352 2772 [summary_service] Summarizing text: 371 characters
[DEBUG] 2025-12-24 02:12:10,634 api.service_clients 8352 2772 [summary_service] POST http://localhost:8005/summarize_text
[WARNING] 2025-12-24 02:12:16,059 api.service_clients 8352 2772 [summary_service] Slow request: 5.42s
[INFO] 2025-12-24 02:12:16,059 api.views 8352 2772 Document processed successfully
[INFO] 2025-12-24 02:12:16,061 api.views 8352 2772 Extracted: 371 chars
[INFO] 2025-12-24 02:12:16,062 api.views 8352 2772 Summary: 120 chars
[INFO] 2025-12-24 02:12:16,063 django.server 8352 2772 "POST /api/documents/process/ HTTP/1.1" 200 1111
[INFO] 2025-12-24 02:12:36,735 django.server 8352 2772 "POST /api/summary/ocr_and_summarize/ HTTP/1.1" 200 1399
[DEBUG] 2025-12-24 02:13:03,213 api.service_clients 8352 2772 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 02:13:03,220 django.server 8352 20384 "GET /api/documents/list/ HTTP/1.1" 200 11558
[INFO] 2025-12-24 02:13:05,260 django.server 8352 2772 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1558
[INFO] 2025-12-24 02:13:12,651 django.server 8352 2772 "OPTIONS /api/quiz/quiz-ea2c57a3/ HTTP/1.1" 200 0
[DEBUG] 2025-12-24 02:13:12,654 api.service_clients 8352 2772 [quiz_generator] GET http://localhost:8002/quiz/quiz-ea2c57a3
[INFO] 2025-12-24 02:13:14,726 django.server 8352 2772 "GET /api/quiz/quiz-ea2c57a3/ HTTP/1.1" 200 1854
[INFO] 2025-12-24 02:22:04,944 django.utils.autoreload 20204 8384 Watching for file changes with StatReloader
[DEBUG] 2025-12-24 02:22:09,130 api.service_clients 20204 1908 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 02:22:09,142 django.server 20204 6052 "GET /api/documents/list/ HTTP/1.1" 200 11558
[INFO] 2025-12-24 02:22:11,248 django.server 20204 1908 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1558
[INFO] 2025-12-24 02:22:13,555 django.server 20204 1908 "OPTIONS /api/auth/logout/ HTTP/1.1" 200 0
[INFO] 2025-12-24 02:22:13,560 api.service_clients 20204 1908 [iam_service] Logging out user
[DEBUG] 2025-12-24 02:22:13,560 api.service_clients 20204 1908 [iam_service] POST http://localhost:8001/api/users/logout/
[ERROR] 2025-12-24 02:22:15,644 api.service_clients 20204 1908 [iam_service] HTTP 500: 401 Client Error: Unauthorized for url: http://localhost:8001/api/users/logout/
[ERROR] 2025-12-24 02:22:15,644 api.views 20204 1908 Logout failed: HTTP 500: 401 Client Error: Unauthorized for url: http://localhost:8001/api/users/logout/
[WARNING] 2025-12-24 02:22:15,647 django.request 20204 1908 Bad Request: /api/auth/logout/
[WARNING] 2025-12-24 02:22:15,648 django.server 20204 1908 "POST /api/auth/logout/ HTTP/1.1" 400 117
[INFO] 2025-12-24 02:22:44,267 api.views 20204 1908 Login attempt for username: Student01
[INFO] 2025-12-24 02:22:44,268 api.views 20204 1908 Calling IAM service to login user: Student01
[INFO] 2025-12-24 02:22:44,268 api.service_clients 20204 1908 [iam_service] Login attempt for user: Student01
[DEBUG] 2025-12-24 02:22:44,269 api.service_clients 20204 1908 [iam_service] POST http://localhost:8001/api/users/login/
[INFO] 2025-12-24 02:22:46,867 api.service_clients 20204 1908 [iam_service] Login successful for user: Student01
[INFO] 2025-12-24 02:22:46,869 api.views 20204 1908 User logged in successfully: Student01
[INFO] 2025-12-24 02:22:46,870 django.server 20204 1908 "POST /api/auth/login/ HTTP/1.1" 200 1359
[DEBUG] 2025-12-24 02:22:46,956 api.service_clients 20204 6052 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 02:22:46,964 django.server 20204 1908 "GET /api/documents/list/ HTTP/1.1" 200 11558
[INFO] 2025-12-24 02:22:49,006 django.server 20204 6052 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1558
[INFO] 2025-12-24 02:23:00,428 django.server 20204 6052 "GET /api/documents/list/ HTTP/1.1" 200 11558
[DEBUG] 2025-12-24 02:23:04,002 api.service_clients 20204 6052 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 02:23:04,013 django.server 20204 1908 "GET /api/documents/list/ HTTP/1.1" 200 11558
[INFO] 2025-12-24 02:23:06,106 django.server 20204 6052 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1558
[INFO] 2025-12-24 02:23:22,563 api.views 20204 6052 Base64 decoded: 19514 bytes
[INFO] 2025-12-24 02:23:22,564 api.views 20204 6052 Extracting text from DOCX...
[INFO] 2025-12-24 02:23:22,765 api.views 20204 6052 DOCX extracted: 1604 chars
[INFO] 2025-12-24 02:23:22,767 api.views 20204 6052 Creating summary...
[INFO] 2025-12-24 02:23:22,768 api.service_clients 20204 6052 [summary_service] Summarizing text: 1604 characters
[DEBUG] 2025-12-24 02:23:22,769 api.service_clients 20204 6052 [summary_service] POST http://localhost:8005/summarize_text
[WARNING] 2025-12-24 02:23:44,055 api.service_clients 20204 6052 [summary_service] Slow request: 21.29s
[INFO] 2025-12-24 02:23:44,056 api.views 20204 6052 Document processed successfully
[INFO] 2025-12-24 02:23:44,057 api.views 20204 6052 Extracted: 1604 chars
[INFO] 2025-12-24 02:23:44,058 api.views 20204 6052 Summary: 360 chars
[INFO] 2025-12-24 02:23:44,060 django.server 20204 6052 "POST /api/documents/process/ HTTP/1.1" 200 4170
[INFO] 2025-12-24 02:23:58,820 api.views 20204 6052 Save document request:
[INFO] 2025-12-24 02:23:58,820 api.views 20204 6052 Document ID: doc_1766517824065_7x9iww2ml
[INFO] 2025-12-24 02:23:58,850 api.views 20204 6052 Extracted text length: 1603
[INFO] 2025-12-24 02:23:58,852 api.views 20204 6052 Summary length: 360
[INFO] 2025-12-24 02:23:58,852 api.views 20204 6052 Inserting document to gateway DB: doc_1766517824065_7x9iww2ml
[INFO] 2025-12-24 02:23:58,862 api.views 20204 6052 Document saved to gateway DB successfully: doc_1766517824065_7x9iww2ml
[INFO] 2025-12-24 02:23:58,863 api.views 20204 6052 Syncing document to RAG service DB...
[INFO] 2025-12-24 02:23:58,864 api.rag_sync_helper 20204 6052 Syncing document to RAG DB: doc_1766517824065_7x9iww2ml
[INFO] 2025-12-24 02:23:58,866 api.rag_sync_helper 20204 6052 RAG chunks table ready: E:\QuickQuiz\services\rag_chatbot_service\rag_chatbot.db
[INFO] 2025-12-24 02:23:58,867 api.rag_sync_helper 20204 6052 Split into 4 chunks
[INFO] 2025-12-24 02:23:58,876 api.rag_sync_helper 20204 6052 RAG DB insert: 4 chunks
[INFO] 2025-12-24 02:23:58,877 api.views 20204 6052 Document synced to RAG service DB
[INFO] 2025-12-24 02:23:58,878 api.views 20204 6052 Requesting RAG rebuild-index...
[DEBUG] 2025-12-24 02:23:58,880 api.service_clients 20204 6052 [rag_chatbot_service] POST http://localhost:8006/admin/rebuild-index
[INFO] 2025-12-24 02:24:01,114 api.views 20204 6052 RAG rebuild-index successful
[INFO] 2025-12-24 02:24:01,116 django.server 20204 6052 "POST /api/documents/save/ HTTP/1.1" 200 153
[INFO] 2025-12-24 02:24:18,676 api.views 20204 6052 Generating quiz: 1 sections, 5 questions
[INFO] 2025-12-24 02:24:18,678 api.service_clients 20204 6052 [quiz_generator] Generating quiz: 1 sections, 5 questions
[DEBUG] 2025-12-24 02:24:18,679 api.service_clients 20204 6052 [quiz_generator] POST http://localhost:8002/quiz/generate
[WARNING] 2025-12-24 02:24:27,615 api.service_clients 20204 6052 [quiz_generator] Slow request: 8.94s
[INFO] 2025-12-24 02:24:27,618 django.server 20204 6052 "POST /api/quiz/generate/ HTTP/1.1" 200 2231
[DEBUG] 2025-12-24 02:25:06,186 api.service_clients 20204 1392 [quiz_generator] POST http://localhost:8002/quiz/save
[INFO] 2025-12-24 02:25:08,252 django.server 20204 1392 "POST /api/quiz/save/ HTTP/1.1" 200 131
[INFO] 2025-12-24 02:25:38,141 api.views 20204 1392 Evaluating quiz quiz-b0bd88f5
[INFO] 2025-12-24 02:25:38,142 api.service_clients 20204 1392 [quiz_evaluator] Evaluating quiz quiz-b0bd88f5 with 5 questions
[DEBUG] 2025-12-24 02:25:38,144 api.service_clients 20204 1392 [quiz_evaluator] POST http://localhost:8003/quiz/evaluate
[WARNING] 2025-12-24 02:25:46,830 api.service_clients 20204 1392 [quiz_evaluator] Slow request: 8.69s
[INFO] 2025-12-24 02:25:46,832 api.service_clients 20204 1392 [quiz_evaluator] Quiz quiz-b0bd88f5 evaluated: 100.0% (5/5)
[INFO] 2025-12-24 02:25:46,835 django.server 20204 1392 "POST /api/quiz/evaluate/ HTTP/1.1" 200 2477
[DEBUG] 2025-12-24 02:25:56,544 api.service_clients 20204 2780 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 02:25:56,554 django.server 20204 1392 "GET /api/documents/list/ HTTP/1.1" 200 15891
[INFO] 2025-12-24 02:25:58,633 django.server 20204 2780 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1787
[DEBUG] 2025-12-24 02:26:21,198 api.service_clients 20204 1392 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 02:26:21,218 django.server 20204 2780 "GET /api/documents/list/ HTTP/1.1" 200 15891
[INFO] 2025-12-24 02:26:23,291 django.server 20204 1392 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1787
[DEBUG] 2025-12-24 02:26:25,208 api.service_clients 20204 2780 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 02:26:25,219 django.server 20204 1392 "GET /api/documents/list/ HTTP/1.1" 200 15891
[INFO] 2025-12-24 02:26:25,228 django.server 20204 2780 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1787
[INFO] 2025-12-24 02:27:14,275 django.server 20204 2780 "OPTIONS /api/rag/chat/ HTTP/1.1" 200 0
[DEBUG] 2025-12-24 02:27:14,307 api.service_clients 20204 2780 [rag_chatbot_service] POST http://localhost:8006/chat
[WARNING] 2025-12-24 02:27:20,125 api.service_clients 20204 2780 [rag_chatbot_service] Slow request: 5.82s
[INFO] 2025-12-24 02:27:20,126 api.views 20204 2780 Gateway returning 2 sources to frontend
[INFO] 2025-12-24 02:27:20,130 django.server 20204 2780 "POST /api/rag/chat/ HTTP/1.1" 200 8117
[DEBUG] 2025-12-24 02:28:00,764 api.service_clients 20204 2780 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 02:28:00,774 django.server 20204 1392 "GET /api/documents/list/ HTTP/1.1" 200 15891
[INFO] 2025-12-24 02:28:02,857 django.server 20204 2780 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1787
[DEBUG] 2025-12-24 02:28:07,933 api.service_clients 20204 2780 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 02:28:07,945 django.server 20204 1392 "GET /api/documents/list/ HTTP/1.1" 200 15891
[INFO] 2025-12-24 02:28:09,991 django.server 20204 2780 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1787
[INFO] 2025-12-24 16:04:50,255 django.utils.autoreload 10392 9824 Watching for file changes with StatReloader
[INFO] 2025-12-24 16:04:57,523 django.server 10392 10400 "OPTIONS /api/documents/list/ HTTP/1.1" 200 0
[INFO] 2025-12-24 16:04:57,523 django.server 10392 12204 "OPTIONS /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 0
[DEBUG] 2025-12-24 16:04:57,544 api.service_clients 10392 10400 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 16:04:57,547 django.server 10392 12204 "GET /api/documents/list/ HTTP/1.1" 200 15891
[INFO] 2025-12-24 16:04:59,653 django.server 10392 10400 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1787
[DEBUG] 2025-12-24 16:05:03,146 api.service_clients 10392 6160 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 16:05:03,152 django.server 10392 2920 "GET /api/documents/list/ HTTP/1.1" 200 15891
[INFO] 2025-12-24 16:05:03,160 django.server 10392 6160 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1787
[INFO] 2025-12-24 16:05:17,583 django.server 10392 4496 "OPTIONS /api/documents/list/ HTTP/1.1" 200 0
[INFO] 2025-12-24 16:05:17,584 django.server 10392 7412 "OPTIONS /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 0
[DEBUG] 2025-12-24 16:05:17,584 api.service_clients 10392 4496 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 16:05:17,598 django.server 10392 7412 "GET /api/documents/list/ HTTP/1.1" 200 15891
[INFO] 2025-12-24 16:05:19,670 django.server 10392 4496 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1787
[DEBUG] 2025-12-24 16:05:24,134 api.service_clients 10392 4496 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 16:05:24,141 django.server 10392 7412 "GET /api/documents/list/ HTTP/1.1" 200 15891
[INFO] 2025-12-24 16:05:24,147 django.server 10392 4496 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1787
[DEBUG] 2025-12-24 16:05:42,457 api.service_clients 10392 4496 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 16:05:42,463 django.server 10392 7412 "GET /api/documents/list/ HTTP/1.1" 200 15891
[INFO] 2025-12-24 16:05:44,509 django.server 10392 4496 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1787
[DEBUG] 2025-12-24 16:05:45,632 api.service_clients 10392 7412 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 16:05:45,637 django.server 10392 4496 "GET /api/documents/list/ HTTP/1.1" 200 15891
[INFO] 2025-12-24 16:05:45,641 django.server 10392 7412 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1787
[INFO] 2025-12-24 16:11:20,663 django.utils.autoreload 10392 9824 E:\QuickQuiz\services\gateway_service\api\views.py changed, reloading.
[INFO] 2025-12-24 16:11:22,062 django.utils.autoreload 7800 2720 Watching for file changes with StatReloader
[INFO] 2025-12-24 16:11:32,668 django.utils.autoreload 7800 2720 E:\QuickQuiz\services\gateway_service\api\views.py changed, reloading.
[INFO] 2025-12-24 16:11:34,000 django.utils.autoreload 17932 2932 Watching for file changes with StatReloader
[INFO] 2025-12-24 16:11:43,476 django.utils.autoreload 17932 2932 E:\QuickQuiz\services\gateway_service\api\views.py changed, reloading.
[INFO] 2025-12-24 16:11:45,202 django.utils.autoreload 12232 4560 Watching for file changes with StatReloader
[INFO] 2025-12-24 16:11:48,013 django.utils.autoreload 12232 4560 E:\QuickQuiz\services\gateway_service\api\urls.py changed, reloading.
[INFO] 2025-12-24 16:11:49,517 django.utils.autoreload 5628 4948 Watching for file changes with StatReloader
[DEBUG] 2025-12-24 16:11:54,990 api.service_clients 5628 10012 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 16:11:55,004 django.server 5628 5512 "GET /api/documents/list/ HTTP/1.1" 200 20091
[INFO] 2025-12-24 16:11:57,054 django.server 5628 10012 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1787
[DEBUG] 2025-12-24 16:15:03,390 api.service_clients 5628 10012 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 16:15:03,400 django.server 5628 5512 "GET /api/documents/list/ HTTP/1.1" 200 20091
[INFO] 2025-12-24 16:15:05,472 django.server 5628 10012 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1787
[INFO] 2025-12-24 16:15:06,623 django.utils.autoreload 5628 4948 E:\QuickQuiz\services\gateway_service\api\views.py changed, reloading.
[INFO] 2025-12-24 16:15:08,420 django.utils.autoreload 720 8520 Watching for file changes with StatReloader
[INFO] 2025-12-24 16:15:45,684 django.utils.autoreload 16556 16160 Watching for file changes with StatReloader
[DEBUG] 2025-12-24 16:15:49,709 api.service_clients 16556 11972 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 16:15:49,716 django.server 16556 4832 "GET /api/documents/list/ HTTP/1.1" 200 20091
[INFO] 2025-12-24 16:15:51,782 django.server 16556 11972 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1787
[INFO] 2025-12-24 16:15:52,962 django.server 16556 6580 "OPTIONS /api/documents/list/ HTTP/1.1" 200 0
[INFO] 2025-12-24 16:15:52,962 django.server 16556 4508 "OPTIONS /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 0
[DEBUG] 2025-12-24 16:15:52,962 api.service_clients 16556 6580 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 16:15:52,979 django.server 16556 4508 "GET /api/documents/list/ HTTP/1.1" 200 20091
[INFO] 2025-12-24 16:15:52,979 django.server 16556 6580 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1787
[DEBUG] 2025-12-24 16:20:05,838 api.service_clients 16556 7216 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 16:20:05,847 django.server 16556 11956 "GET /api/documents/list/ HTTP/1.1" 200 20091
[INFO] 2025-12-24 16:20:07,880 django.server 16556 7216 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1787
[DEBUG] 2025-12-24 16:20:11,986 api.service_clients 16556 11956 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 16:20:11,996 django.server 16556 7216 "GET /api/documents/list/ HTTP/1.1" 200 20091
[INFO] 2025-12-24 16:20:11,998 django.server 16556 11956 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1787
[INFO] 2025-12-24 16:20:29,541 django.server 16556 11956 "OPTIONS /api/auth/logout/ HTTP/1.1" 200 0
[INFO] 2025-12-24 16:20:29,544 api.service_clients 16556 11956 [iam_service] Logging out user
[DEBUG] 2025-12-24 16:20:29,544 api.service_clients 16556 11956 [iam_service] POST http://localhost:8001/api/users/logout/
[ERROR] 2025-12-24 16:20:31,616 api.service_clients 16556 11956 [iam_service] HTTP 500: 401 Client Error: Unauthorized for url: http://localhost:8001/api/users/logout/
[ERROR] 2025-12-24 16:20:31,616 api.views 16556 11956 Logout failed: HTTP 500: 401 Client Error: Unauthorized for url: http://localhost:8001/api/users/logout/
[WARNING] 2025-12-24 16:20:31,616 django.request 16556 11956 Bad Request: /api/auth/logout/
[WARNING] 2025-12-24 16:20:31,616 django.server 16556 11956 "POST /api/auth/logout/ HTTP/1.1" 400 117
[INFO] 2025-12-24 16:21:13,940 django.server 16556 11956 "OPTIONS /api/auth/login/ HTTP/1.1" 200 0
[INFO] 2025-12-24 16:21:13,944 api.views 16556 11956 Login attempt for username: Student01
[INFO] 2025-12-24 16:21:13,946 api.views 16556 11956 Calling IAM service to login user: Student01
[INFO] 2025-12-24 16:21:13,947 api.service_clients 16556 11956 [iam_service] Login attempt for user: Student01
[DEBUG] 2025-12-24 16:21:13,948 api.service_clients 16556 11956 [iam_service] POST http://localhost:8001/api/users/login/
[INFO] 2025-12-24 16:21:16,715 api.service_clients 16556 11956 [iam_service] Login successful for user: Student01
[INFO] 2025-12-24 16:21:16,715 api.views 16556 11956 User logged in successfully: Student01
[INFO] 2025-12-24 16:21:16,717 django.server 16556 11956 "POST /api/auth/login/ HTTP/1.1" 200 1359
[DEBUG] 2025-12-24 16:21:16,752 api.service_clients 16556 7216 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 16:21:16,762 django.server 16556 11956 "GET /api/documents/list/ HTTP/1.1" 200 20091
[INFO] 2025-12-24 16:21:18,811 django.server 16556 7216 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1787
[INFO] 2025-12-24 16:21:29,132 django.server 16556 7216 "GET /api/documents/list/ HTTP/1.1" 200 20091
[DEBUG] 2025-12-24 16:21:31,144 api.service_clients 16556 7216 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 16:21:31,152 django.server 16556 11956 "GET /api/documents/list/ HTTP/1.1" 200 20091
[INFO] 2025-12-24 16:21:33,185 django.server 16556 7216 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1787
[INFO] 2025-12-24 16:23:54,680 django.server 16556 7216 "POST /api/summary/ocr_and_summarize/ HTTP/1.1" 200 1671
[INFO] 2025-12-24 16:24:22,903 django.server 16556 7216 "OPTIONS /api/documents/save/ HTTP/1.1" 200 0
[INFO] 2025-12-24 16:24:22,909 api.views 16556 7216 Save document request:
[INFO] 2025-12-24 16:24:22,911 api.views 16556 7216 Document ID: doc_1766568234683_6xcbssmfe
[INFO] 2025-12-24 16:24:22,911 api.views 16556 7216 File name: test_ocr.jpg
[INFO] 2025-12-24 16:24:22,911 api.views 16556 7216 Extracted text length: 734
[INFO] 2025-12-24 16:24:22,911 api.views 16556 7216 Summary length: 734
[INFO] 2025-12-24 16:24:22,911 api.views 16556 7216 Inserting document to gateway DB: doc_1766568234683_6xcbssmfe
[INFO] 2025-12-24 16:24:22,920 api.views 16556 7216 Document saved to gateway DB successfully: doc_1766568234683_6xcbssmfe
[INFO] 2025-12-24 16:24:22,921 api.views 16556 7216 Syncing document to RAG service DB...
[INFO] 2025-12-24 16:24:22,922 api.rag_sync_helper 16556 7216 Syncing document to RAG DB: doc_1766568234683_6xcbssmfe
[INFO] 2025-12-24 16:24:22,925 api.rag_sync_helper 16556 7216 RAG chunks table ready: E:\QuickQuiz\services\rag_chatbot_service\rag_chatbot.db
[INFO] 2025-12-24 16:24:22,926 api.rag_sync_helper 16556 7216 Split into 2 chunks
[INFO] 2025-12-24 16:24:22,931 api.rag_sync_helper 16556 7216 RAG DB insert: 2 chunks
[INFO] 2025-12-24 16:24:22,932 api.views 16556 7216 Document synced to RAG service DB
[INFO] 2025-12-24 16:24:22,933 api.views 16556 7216 Requesting RAG rebuild-index...
[DEBUG] 2025-12-24 16:24:22,933 api.service_clients 16556 7216 [rag_chatbot_service] POST http://localhost:8006/admin/rebuild-index
[INFO] 2025-12-24 16:24:25,153 api.views 16556 7216 RAG rebuild-index successful
[INFO] 2025-12-24 16:24:25,154 django.server 16556 7216 "POST /api/documents/save/ HTTP/1.1" 200 153
[INFO] 2025-12-24 16:24:45,944 django.server 16556 7216 "OPTIONS /api/quiz/generate/ HTTP/1.1" 200 0
[INFO] 2025-12-24 16:24:45,949 api.views 16556 7216 Generating quiz: 1 sections, 5 questions
[INFO] 2025-12-24 16:24:45,949 api.service_clients 16556 7216 [quiz_generator] Generating quiz: 1 sections, 5 questions
[DEBUG] 2025-12-24 16:24:45,950 api.service_clients 16556 7216 [quiz_generator] POST http://localhost:8002/quiz/generate
[WARNING] 2025-12-24 16:24:56,096 api.service_clients 16556 7216 [quiz_generator] Slow request: 10.14s
[INFO] 2025-12-24 16:24:56,098 django.server 16556 7216 "POST /api/quiz/generate/ HTTP/1.1" 200 2134
[INFO] 2025-12-24 16:25:24,601 django.server 16556 7216 "OPTIONS /api/quiz/save/ HTTP/1.1" 200 0
[INFO] 2025-12-24 16:25:24,605 api.views 16556 7216 Saving quiz with 5 questions and title Quiz - test_ocr
[DEBUG] 2025-12-24 16:25:24,606 api.service_clients 16556 7216 [quiz_generator] POST http://localhost:8002/quiz/save
[INFO] 2025-12-24 16:25:26,685 django.server 16556 7216 "POST /api/quiz/save/ HTTP/1.1" 200 131
[INFO] 2025-12-24 16:25:46,779 django.server 16556 7216 "OPTIONS /api/quiz/evaluate/ HTTP/1.1" 200 0
[INFO] 2025-12-24 16:25:46,782 api.views 16556 7216 Evaluating quiz quiz-90def50c
[INFO] 2025-12-24 16:25:46,783 api.service_clients 16556 7216 [quiz_evaluator] Evaluating quiz quiz-90def50c with 5 questions
[DEBUG] 2025-12-24 16:25:46,783 api.service_clients 16556 7216 [quiz_evaluator] POST http://localhost:8003/quiz/evaluate
[WARNING] 2025-12-24 16:25:57,823 api.service_clients 16556 7216 [quiz_evaluator] Slow request: 11.04s
[INFO] 2025-12-24 16:25:57,823 api.service_clients 16556 7216 [quiz_evaluator] Quiz quiz-90def50c evaluated: 100.0% (5/5)
[INFO] 2025-12-24 16:25:57,826 django.server 16556 7216 "POST /api/quiz/evaluate/ HTTP/1.1" 200 2556
[DEBUG] 2025-12-24 16:26:04,683 api.service_clients 16556 11956 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 16:26:04,688 django.server 16556 7216 "GET /api/documents/list/ HTTP/1.1" 200 23482
[INFO] 2025-12-24 16:26:06,730 django.server 16556 11956 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1992
[INFO] 2025-12-24 16:26:19,101 django.server 16556 11956 "OPTIONS /api/rag/chat/ HTTP/1.1" 200 0
[INFO] 2025-12-24 16:26:19,104 api.service_clients 16556 11956 [rag_chatbot_service] Processing chat query: NLP là gì...
[DEBUG] 2025-12-24 16:26:19,105 api.service_clients 16556 11956 [rag_chatbot_service] POST http://localhost:8006/chat
[WARNING] 2025-12-24 16:26:24,475 api.service_clients 16556 11956 [rag_chatbot_service] Slow request: 5.37s
[INFO] 2025-12-24 16:26:24,476 api.views 16556 11956 Gateway returning 2 sources to frontend
[INFO] 2025-12-24 16:26:24,478 django.server 16556 11956 "POST /api/rag/chat/ HTTP/1.1" 200 7911
[DEBUG] 2025-12-24 16:57:02,724 api.service_clients 16556 18444 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 16:57:02,732 django.server 16556 19252 "GET /api/documents/list/ HTTP/1.1" 200 23482
[INFO] 2025-12-24 16:57:04,775 django.server 16556 18444 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1992
[INFO] 2025-12-24 17:01:58,580 django.utils.autoreload 4676 21408 Watching for file changes with StatReloader
[DEBUG] 2025-12-24 17:02:02,027 api.service_clients 4676 19272 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 17:02:02,039 django.server 4676 22624 "GET /api/documents/list/ HTTP/1.1" 200 23482
[DEBUG] 2025-12-24 17:02:03,425 api.service_clients 4676 12420 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 17:02:03,436 django.server 4676 11184 "GET /api/documents/list/ HTTP/1.1" 200 23482
[INFO] 2025-12-24 17:02:04,132 django.server 4676 19272 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1992
[INFO] 2025-12-24 17:02:05,496 django.server 4676 12420 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1992
[INFO] 2025-12-24 17:03:50,617 django.server 4676 12420 "POST /api/summary/ocr_and_summarize/ HTTP/1.1" 200 1414
[INFO] 2025-12-24 17:06:43,278 django.server 4676 12420 "POST /api/summary/ocr_and_summarize/ HTTP/1.1" 200 1671
[INFO] 2025-12-24 17:06:51,404 api.views 4676 12420 Save document request:
[INFO] 2025-12-24 17:06:51,406 api.views 4676 12420 Document ID: doc_1766570803285_yu4rpxw91
[INFO] 2025-12-24 17:06:51,406 api.views 4676 12420 File name: test_ocr.jpg
[INFO] 2025-12-24 17:06:51,406 api.views 4676 12420 Extracted text length: 734
[INFO] 2025-12-24 17:06:51,406 api.views 4676 12420 Summary length: 734
[INFO] 2025-12-24 17:06:51,406 api.views 4676 12420 Inserting document to gateway DB: doc_1766570803285_yu4rpxw91
[INFO] 2025-12-24 17:06:51,419 api.views 4676 12420 Document saved to gateway DB successfully: doc_1766570803285_yu4rpxw91
[INFO] 2025-12-24 17:06:51,421 api.views 4676 12420 Syncing document to RAG service DB...
[INFO] 2025-12-24 17:06:51,425 api.rag_sync_helper 4676 12420 Syncing document to RAG DB: doc_1766570803285_yu4rpxw91
[INFO] 2025-12-24 17:06:51,431 api.rag_sync_helper 4676 12420 RAG chunks table ready: E:\QuickQuiz\services\rag_chatbot_service\rag_chatbot.db
[INFO] 2025-12-24 17:06:51,431 api.rag_sync_helper 4676 12420 Split into 2 chunks
[INFO] 2025-12-24 17:06:51,441 api.rag_sync_helper 4676 12420 RAG DB insert: 2 chunks
[INFO] 2025-12-24 17:06:51,445 api.views 4676 12420 Document synced to RAG service DB
[INFO] 2025-12-24 17:06:51,447 api.views 4676 12420 Requesting RAG rebuild-index...
[DEBUG] 2025-12-24 17:06:51,447 api.service_clients 4676 12420 [rag_chatbot_service] POST http://localhost:8006/admin/rebuild-index
[INFO] 2025-12-24 17:06:53,638 api.views 4676 12420 RAG rebuild-index successful
[INFO] 2025-12-24 17:06:53,640 django.server 4676 12420 "POST /api/documents/save/ HTTP/1.1" 200 153
[INFO] 2025-12-24 17:07:17,076 django.server 4676 12420 "OPTIONS /api/documents/process/ HTTP/1.1" 200 0
[INFO] 2025-12-24 17:07:17,534 api.views 4676 12420 Base64 decoded: 19514 bytes
[INFO] 2025-12-24 17:07:17,537 api.views 4676 12420 Extracting text from DOCX...
[INFO] 2025-12-24 17:07:17,702 api.views 4676 12420 DOCX extracted: 1604 chars
[INFO] 2025-12-24 17:07:17,702 api.views 4676 12420 Creating summary...
[INFO] 2025-12-24 17:07:17,702 api.service_clients 4676 12420 [summary_service] Summarizing text: 1604 characters
[DEBUG] 2025-12-24 17:07:17,702 api.service_clients 4676 12420 [summary_service] POST http://localhost:8005/summarize_text
[WARNING] 2025-12-24 17:07:34,331 api.service_clients 4676 12420 [summary_service] Slow request: 16.63s
[INFO] 2025-12-24 17:07:34,331 api.views 4676 12420 Document processed successfully
[INFO] 2025-12-24 17:07:34,334 api.views 4676 12420 Extracted: 1604 chars
[INFO] 2025-12-24 17:07:34,334 api.views 4676 12420 Summary: 229 chars
[INFO] 2025-12-24 17:07:34,335 django.server 4676 12420 "POST /api/documents/process/ HTTP/1.1" 200 3889
[INFO] 2025-12-24 17:08:16,168 django.server 4676 12420 "OPTIONS /api/summary/summarize_text/ HTTP/1.1" 200 0
[INFO] 2025-12-24 17:08:16,172 api.service_clients 4676 12420 [summary_service] Summarizing text: 1619 characters
[DEBUG] 2025-12-24 17:08:16,173 api.service_clients 4676 12420 [summary_service] POST http://localhost:8005/summarize_text
[WARNING] 2025-12-24 17:08:32,965 api.service_clients 4676 12420 [summary_service] Slow request: 16.79s
[INFO] 2025-12-24 17:08:32,965 django.server 4676 12420 "POST /api/summary/summarize_text/ HTTP/1.1" 200 520
[INFO] 2025-12-24 17:11:00,994 django.utils.autoreload 17500 8396 Watching for file changes with StatReloader
[DEBUG] 2025-12-24 17:11:04,780 api.service_clients 17500 20556 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 17:11:04,793 django.server 17500 7880 "GET /api/documents/list/ HTTP/1.1" 200 26873
[INFO] 2025-12-24 17:11:05,203 django.server 17500 7880 "GET /api/documents/list/ HTTP/1.1" 200 26873
[DEBUG] 2025-12-24 17:11:05,538 api.service_clients 17500 7248 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 17:11:05,549 django.server 17500 22524 "GET /api/documents/list/ HTTP/1.1" 200 26873
[DEBUG] 2025-12-24 17:11:05,933 api.service_clients 17500 7880 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 17:11:06,906 django.server 17500 20556 - Broken pipe from ('127.0.0.1', 56162)
[INFO] 2025-12-24 17:11:07,570 django.server 17500 7248 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1992
[INFO] 2025-12-24 17:11:07,996 django.server 17500 7880 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 1992
[INFO] 2025-12-24 17:11:15,004 api.views 17500 7880 Base64 decoded: 19514 bytes
[INFO] 2025-12-24 17:11:15,004 api.views 17500 7880 Extracting text from DOCX...
[INFO] 2025-12-24 17:11:15,151 api.views 17500 7880 DOCX extracted: 1604 chars
[INFO] 2025-12-24 17:11:15,151 api.views 17500 7880 Creating summary...
[INFO] 2025-12-24 17:11:15,151 api.service_clients 17500 7880 [summary_service] Summarizing text: 1604 characters
[DEBUG] 2025-12-24 17:11:15,151 api.service_clients 17500 7880 [summary_service] POST http://localhost:8005/summarize_text
[WARNING] 2025-12-24 17:11:43,634 api.service_clients 17500 7880 [summary_service] Slow request: 28.48s
[INFO] 2025-12-24 17:11:43,634 api.views 17500 7880 Document processed successfully
[INFO] 2025-12-24 17:11:43,634 api.views 17500 7880 Extracted: 1604 chars
[INFO] 2025-12-24 17:11:43,634 api.views 17500 7880 Summary: 381 chars
[INFO] 2025-12-24 17:11:43,640 django.server 17500 7880 "POST /api/documents/process/ HTTP/1.1" 200 4220
[INFO] 2025-12-24 17:13:32,580 api.views 17500 12204 Base64 decoded: 19514 bytes
[INFO] 2025-12-24 17:13:32,580 api.views 17500 12204 Extracting text from DOCX...
[INFO] 2025-12-24 17:13:32,735 api.views 17500 12204 DOCX extracted: 1604 chars
[INFO] 2025-12-24 17:13:32,735 api.views 17500 12204 Creating summary...
[INFO] 2025-12-24 17:13:32,740 api.service_clients 17500 12204 [summary_service] Summarizing text: 1604 characters
[DEBUG] 2025-12-24 17:13:32,740 api.service_clients 17500 12204 [summary_service] POST http://localhost:8005/summarize_text
[WARNING] 2025-12-24 17:13:50,338 api.service_clients 17500 12204 [summary_service] Slow request: 17.60s
[INFO] 2025-12-24 17:13:50,343 api.views 17500 12204 Document processed successfully
[INFO] 2025-12-24 17:13:50,343 api.views 17500 12204 Extracted: 1604 chars
[INFO] 2025-12-24 17:13:50,343 api.views 17500 12204 Summary: 381 chars
[INFO] 2025-12-24 17:13:50,343 django.server 17500 12204 "POST /api/documents/process/ HTTP/1.1" 200 4220
[INFO] 2025-12-24 17:13:59,850 api.views 17500 12204 Save document request:
[INFO] 2025-12-24 17:13:59,857 api.views 17500 12204 Document ID: doc_1766571230348_fs2d1m87d
[INFO] 2025-12-24 17:13:59,879 api.views 17500 12204 Extracted text length: 1603
[INFO] 2025-12-24 17:13:59,879 api.views 17500 12204 Summary length: 381
[INFO] 2025-12-24 17:13:59,879 api.views 17500 12204 Inserting document to gateway DB: doc_1766571230348_fs2d1m87d
[INFO] 2025-12-24 17:13:59,899 api.views 17500 12204 Document saved to gateway DB successfully: doc_1766571230348_fs2d1m87d
[INFO] 2025-12-24 17:13:59,899 api.views 17500 12204 Syncing document to RAG service DB...
[INFO] 2025-12-24 17:13:59,902 api.rag_sync_helper 17500 12204 Syncing document to RAG DB: doc_1766571230348_fs2d1m87d
[INFO] 2025-12-24 17:13:59,904 api.rag_sync_helper 17500 12204 RAG chunks table ready: E:\QuickQuiz\services\rag_chatbot_service\rag_chatbot.db
[INFO] 2025-12-24 17:13:59,906 api.rag_sync_helper 17500 12204 Split into 4 chunks
[INFO] 2025-12-24 17:13:59,917 api.rag_sync_helper 17500 12204 RAG DB insert: 4 chunks
[INFO] 2025-12-24 17:13:59,917 api.views 17500 12204 Document synced to RAG service DB
[INFO] 2025-12-24 17:13:59,917 api.views 17500 12204 Requesting RAG rebuild-index...
[DEBUG] 2025-12-24 17:13:59,921 api.service_clients 17500 12204 [rag_chatbot_service] POST http://localhost:8006/admin/rebuild-index
[INFO] 2025-12-24 17:14:02,097 api.views 17500 12204 RAG rebuild-index successful
[INFO] 2025-12-24 17:14:02,097 django.server 17500 12204 "POST /api/documents/save/ HTTP/1.1" 200 153
[INFO] 2025-12-24 17:14:32,013 api.views 17500 12204 Generating quiz: 1 sections, 5 questions
[INFO] 2025-12-24 17:14:32,013 api.service_clients 17500 12204 [quiz_generator] Generating quiz: 1 sections, 5 questions
[DEBUG] 2025-12-24 17:14:32,013 api.service_clients 17500 12204 [quiz_generator] POST http://localhost:8002/quiz/generate
[WARNING] 2025-12-24 17:14:43,334 api.service_clients 17500 12204 [quiz_generator] Slow request: 11.32s
[INFO] 2025-12-24 17:14:43,336 django.server 17500 12204 "POST /api/quiz/generate/ HTTP/1.1" 200 2472
[DEBUG] 2025-12-24 17:15:14,020 api.service_clients 17500 12204 [quiz_generator] POST http://localhost:8002/quiz/save
[INFO] 2025-12-24 17:15:16,091 django.server 17500 12204 "POST /api/quiz/save/ HTTP/1.1" 200 131
[INFO] 2025-12-24 17:15:47,880 api.views 17500 12204 Evaluating quiz quiz-e2a8dd2b
[INFO] 2025-12-24 17:15:47,880 api.service_clients 17500 12204 [quiz_evaluator] Evaluating quiz quiz-e2a8dd2b with 5 questions
[DEBUG] 2025-12-24 17:15:47,880 api.service_clients 17500 12204 [quiz_evaluator] POST http://localhost:8003/quiz/evaluate
[WARNING] 2025-12-24 17:16:06,478 api.service_clients 17500 12204 [quiz_evaluator] Slow request: 18.60s
[INFO] 2025-12-24 17:16:06,478 api.service_clients 17500 12204 [quiz_evaluator] Quiz quiz-e2a8dd2b evaluated: 100.0% (5/5)
[INFO] 2025-12-24 17:16:06,485 django.server 17500 12204 "POST /api/quiz/evaluate/ HTTP/1.1" 200 2389
[DEBUG] 2025-12-24 17:16:24,393 api.service_clients 17500 12204 [rag_chatbot_service] POST http://localhost:8006/chat
[WARNING] 2025-12-24 17:16:51,438 api.service_clients 17500 12204 [rag_chatbot_service] Slow request: 27.05s
[INFO] 2025-12-24 17:16:51,442 api.views 17500 12204 Gateway returning 2 sources to frontend
[INFO] 2025-12-24 17:16:51,442 django.server 17500 12204 "POST /api/rag/chat/ HTTP/1.1" 200 8008
[INFO] 2025-12-24 17:16:57,609 django.server 17500 12204 "GET /api/documents/list/ HTTP/1.1" 200 31362
[DEBUG] 2025-12-24 17:16:57,619 api.service_clients 17500 12204 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 17:16:59,663 django.server 17500 12204 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 2228
[DEBUG] 2025-12-24 17:17:11,670 api.service_clients 17500 12204 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 17:17:11,686 django.server 17500 21872 "GET /api/documents/list/ HTTP/1.1" 200 31362
[INFO] 2025-12-24 17:17:13,735 django.server 17500 12204 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 2228
[INFO] 2025-12-24 17:30:25,433 api.service_clients 17500 21632 [summary_service] Summarizing text: 1619 characters
[DEBUG] 2025-12-24 17:30:25,433 api.service_clients 17500 21632 [summary_service] POST http://localhost:8005/summarize_text
[WARNING] 2025-12-24 17:30:38,323 api.service_clients 17500 21632 [summary_service] Slow request: 12.89s
[INFO] 2025-12-24 17:30:38,323 django.server 17500 21632 "POST /api/summary/summarize_text/ HTTP/1.1" 200 851
[INFO] 2025-12-24 17:31:24,988 api.views 17500 21632 Save document request:
[INFO] 2025-12-24 17:31:24,989 api.views 17500 21632 Document ID: doc_1766572238328_om1zlfusf
[INFO] 2025-12-24 17:31:25,001 api.views 17500 21632 Extracted text length: 1618
[INFO] 2025-12-24 17:31:25,004 api.views 17500 21632 Summary length: 381
[INFO] 2025-12-24 17:31:25,004 api.views 17500 21632 Inserting document to gateway DB: doc_1766572238328_om1zlfusf
[INFO] 2025-12-24 17:31:25,018 api.views 17500 21632 Document saved to gateway DB successfully: doc_1766572238328_om1zlfusf
[INFO] 2025-12-24 17:31:25,018 api.views 17500 21632 Syncing document to RAG service DB...
[INFO] 2025-12-24 17:31:25,018 api.rag_sync_helper 17500 21632 Syncing document to RAG DB: doc_1766572238328_om1zlfusf
[INFO] 2025-12-24 17:31:25,025 api.rag_sync_helper 17500 21632 RAG chunks table ready: E:\QuickQuiz\services\rag_chatbot_service\rag_chatbot.db
[INFO] 2025-12-24 17:31:25,025 api.rag_sync_helper 17500 21632 Split into 4 chunks
[INFO] 2025-12-24 17:31:25,032 api.rag_sync_helper 17500 21632 RAG DB insert: 4 chunks
[INFO] 2025-12-24 17:31:25,032 api.views 17500 21632 Document synced to RAG service DB
[INFO] 2025-12-24 17:31:25,032 api.views 17500 21632 Requesting RAG rebuild-index...
[DEBUG] 2025-12-24 17:31:25,032 api.service_clients 17500 21632 [rag_chatbot_service] POST http://localhost:8006/admin/rebuild-index
[INFO] 2025-12-24 17:31:27,185 api.views 17500 21632 RAG rebuild-index successful
[INFO] 2025-12-24 17:31:27,185 django.server 17500 21632 "POST /api/documents/save/ HTTP/1.1" 200 153
[INFO] 2025-12-24 17:31:51,694 api.views 17500 21632 Generating quiz: 1 sections, 5 questions
[INFO] 2025-12-24 17:31:51,694 api.service_clients 17500 21632 [quiz_generator] Generating quiz: 1 sections, 5 questions
[DEBUG] 2025-12-24 17:31:51,695 api.service_clients 17500 21632 [quiz_generator] POST http://localhost:8002/quiz/generate
[WARNING] 2025-12-24 17:32:01,789 api.service_clients 17500 21632 [quiz_generator] Slow request: 10.09s
[INFO] 2025-12-24 17:32:01,789 django.server 17500 21632 "POST /api/quiz/generate/ HTTP/1.1" 200 2343
[DEBUG] 2025-12-24 17:32:31,169 api.service_clients 17500 21632 [quiz_generator] POST http://localhost:8002/quiz/save
[INFO] 2025-12-24 17:32:33,227 django.server 17500 21632 "POST /api/quiz/save/ HTTP/1.1" 200 131
[INFO] 2025-12-24 17:33:20,148 api.views 17500 21632 Evaluating quiz quiz-9926da79
[INFO] 2025-12-24 17:33:20,150 api.service_clients 17500 21632 [quiz_evaluator] Evaluating quiz quiz-9926da79 with 5 questions
[DEBUG] 2025-12-24 17:33:20,151 api.service_clients 17500 21632 [quiz_evaluator] POST http://localhost:8003/quiz/evaluate
[ERROR] 2025-12-24 17:34:22,200 api.service_clients 17500 21632 [quiz_evaluator] Request timeout after 60s
[ERROR] 2025-12-24 17:34:22,200 api.views 17500 21632 Quiz evaluation failed: Request timeout after 60s
[ERROR] 2025-12-24 17:34:22,200 django.request 17500 21632 Internal Server Error: /api/quiz/evaluate/
[INFO] 2025-12-24 17:34:22,200 django.server 17500 21632 - Broken pipe from ('127.0.0.1', 50693)
[DEBUG] 2025-12-24 17:44:34,241 api.service_clients 17500 20176 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 17:44:34,263 django.server 17500 24464 "GET /api/documents/list/ HTTP/1.1" 200 35717
[INFO] 2025-12-24 17:44:36,309 django.server 17500 20176 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 2460
[DEBUG] 2025-12-24 17:45:01,473 api.service_clients 17500 23172 [quiz_generator] GET http://localhost:8002/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd
[INFO] 2025-12-24 17:45:01,483 django.server 17500 24600 "GET /api/documents/list/ HTTP/1.1" 200 35717
[INFO] 2025-12-24 17:45:03,521 django.server 17500 23172 "GET /api/quiz/user/41a2020e-542d-4672-a43e-bdd7939f8dfd/?limit=50&offset=0 HTTP/1.1" 200 2460
